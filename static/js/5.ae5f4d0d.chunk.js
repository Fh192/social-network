(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[5],{260:function(e,t,c){e.exports={toggle:"Toggle_toggle__Cn-wh",toggleD:"Toggle_toggleD__1Jmtu"}},261:function(e,t,c){e.exports={filterUsers:"FilterUsers_filterUsers__2Y9vA",arrowD:"FilterUsers_arrowD__ti3pG",title:"FilterUsers_title__ibg5D",popup:"FilterUsers_popup__vK8hg",popupD:"FilterUsers_popupD__1fd-H",showPopup:"FilterUsers_showPopup__2lqB3",magnifier:"FilterUsers_magnifier__3iqA5",clearInput:"FilterUsers_clearInput__v6swI",term:"FilterUsers_term__2EUx0",toggles:"FilterUsers_toggles__-zNm1"}},262:function(e,t,c){e.exports={user:"User_user__38FXz",userD:"User_userD__3jNih",link:"User_link__1YDXP",followBtn:"User_followBtn__2PlbX",photo:"User_photo__4Rk8a",photoPreloader:"User_photoPreloader__35SVO",col:"User_col__1cFGU",username:"User_username__2XOY2"}},263:function(e,t,c){e.exports={users:"Users_users__3jhox",header:"Users_header__3yG7n",headerD:"Users_headerD__1n0GV",usersList:"Users_usersList__3sOPG",preloader:"Users_preloader__2hxbA",notFound:"Users_notFound__3r61_",term:"Users_term__21juF"}},264:function(e,t,c){e.exports={scrollBtn:"ScrollBtn_scrollBtn__3d0oL",scrollBtnD:"ScrollBtn_scrollBtnD__2MZjE",visible:"ScrollBtn_visible__17p76"}},269:function(e,t,c){"use strict";c.r(t);var n=c(11),r=c(5),s=c(1),a=c(17),o=c(8),i=c(37),l=c(21),u=c(10),d=c.n(u),j=c(31),b=c(4),O=c(0),h=function(e){var t=e.size,c=e.type,r=e.color,s=void 0===r?"#0d1117":r,a={transition:"all 0.2s ease",transform:"rotateX(0deg)"};return"up"===c&&(a=Object(n.a)(Object(n.a)({},a),{},{transform:"rotateX(180deg)"})),Object(O.jsx)("svg",{style:a,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",width:t,height:t,viewBox:"0 0 451.847 451.847",xmlSpace:"preserve",children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{fill:s,d:"M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751   c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0   c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z"})})})},f=c(27),p=function(e){var t=e.size;return Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:t,height:t,viewBox:"0 0 30.239 30.239",enableBackground:"new 0 0 30.239 30.239",xmlSpace:"preserve",children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M20.194,3.46c-4.613-4.613-12.121-4.613-16.734,0c-4.612,4.614-4.612,12.121,0,16.735   c4.108,4.107,10.506,4.547,15.116,1.34c0.097,0.459,0.319,0.897,0.676,1.254l6.718,6.718c0.979,0.977,2.561,0.977,3.535,0   c0.978-0.978,0.978-2.56,0-3.535l-6.718-6.72c-0.355-0.354-0.794-0.577-1.253-0.674C24.743,13.967,24.303,7.57,20.194,3.46z    M18.073,18.074c-3.444,3.444-9.049,3.444-12.492,0c-3.442-3.444-3.442-9.048,0-12.492c3.443-3.443,9.048-3.443,12.492,0   C21.517,9.026,21.517,14.63,18.073,18.074z"})})})},m=c(260),_=c.n(m),x=function(e){var t=e.checked,c=e.disabled,n=e.onChange,r=d.a.bind(_.a),s=Object(b.a)().isDarkMode;return Object(O.jsx)("input",{className:r({toggle:!0,toggleD:s}),type:"checkbox",checked:t,disabled:c,onChange:n})},v=c(261),g=c.n(v),w=function(e){var t=e.fetching,c=e.queryParams,a=e.setQueryParams,l=Object(j.b)(),u=d.a.bind(g.a),m=Object(s.useRef)(null),_=Object(b.a)().isDarkMode,v=Object(o.a)((function(e){return e.users})).totalCount,w=Object(s.useState)("down"),k=Object(r.a)(w,2),U=k[0],N=k[1],D=Object(s.useState)(!0===c.friend),E=Object(r.a)(D,2),F=E[0],L=E[1],S=Object(s.useState)(!1===c.friend),y=Object(r.a)(S,2),C=y[0],P=y[1],B=Object(s.useState)(c.term||""),z=Object(r.a)(B,2),T=z[0],M=z[1],X=function(e){e&&"Enter"!==e.key||a((function(e){return T&&T!==e.term?(l(Object(i.c)()),Object(n.a)(Object(n.a)({},e),{},{term:T,page:1})):e}))};return Object(s.useEffect)((function(){var e=function(e){e.deltaY>0&&N("down")};return document.addEventListener("wheel",e),function(){return document.removeEventListener("wheel",e)}}),[]),Object(s.useEffect)((function(){var e=!!F||!C&&void 0;a((function(t){return e!==t.friend?(l(Object(i.c)()),Object(n.a)(Object(n.a)({},t),{},{friend:e,term:T||void 0,page:1})):t}))}),[F,C,T,l,a]),Object(b.c)(m,(function(){N("down")})),Object(O.jsxs)("div",{className:g.a.filterUsers,ref:m,children:[Object(O.jsxs)("div",{className:g.a.title,onClick:function(){N((function(e){return"down"===e?"up":"down"}))},children:[Object(O.jsx)("span",{children:"Parameters"}),Object(O.jsx)("div",{className:u({arrow:!0,arrowD:_}),children:Object(O.jsx)(h,{size:"10px",type:U,color:"#8ea6f4"})})]}),Object(O.jsxs)("div",{className:u({popup:!0,popupD:_,showPopup:"up"===U}),children:[Object(O.jsxs)("div",{className:g.a.term,children:[Object(O.jsx)("div",{className:g.a.magnifier,onClick:function(){return X()},children:Object(O.jsx)(p,{size:"15px"})}),Object(O.jsx)("input",{type:"text",id:"term",placeholder:"Search",autoComplete:"off",value:T,disabled:t,onChange:function(e){return M(e.currentTarget.value)},onKeyDown:X}),Object(O.jsx)("div",{className:g.a.clearInput,onClick:function(){M(""),v||(l(Object(i.c)()),a((function(e){return Object(n.a)(Object(n.a)({},e),{},{term:void 0})})))},children:Object(O.jsx)(f.a,{size:"15px"})})]}),Object(O.jsxs)("div",{className:g.a.toggles,children:[Object(O.jsxs)("label",{children:[Object(O.jsx)(x,{onChange:function(e){C&&P(!1),L(e.currentTarget.checked)},checked:F,disabled:t}),Object(O.jsx)("span",{children:"Only friends"})]}),Object(O.jsxs)("label",{children:[Object(O.jsx)(x,{onChange:function(e){F&&L(!1),P(e.currentTarget.checked)},checked:C,disabled:t}),Object(O.jsx)("span",{children:"Hide friends"})]})]})]})]})},k=c(262),U=c.n(k),N=c(16),D=c(22),E=c(59),F=c(14),L=function(e){var t=e.photos.large,c=e.followed,n=e.id,a=e.name,i=d.a.bind(U.a),u=Object(s.useState)(!1),j=Object(r.a)(u,2),h=j[0],f=j[1],p=Object(b.a)().isDarkMode,m=Object(o.a)((function(e){return e.users.inFollowProgress.some((function(e){return e===n}))}));return Object(O.jsxs)("li",{className:i({user:!0,userD:p}),children:[Object(O.jsx)(F.b,{className:U.a.link,to:"/profile/".concat(n)}),Object(O.jsxs)("div",{className:U.a.photo,children:[Object(O.jsx)(F.b,{to:"/profile/".concat(n),children:Object(O.jsx)("img",{src:t||(p?D.a:N.a),onLoad:function(){return f(!0)},loading:"lazy",alt:"user"})}),!h&&Object(O.jsx)("div",{className:U.a.photoPreloader,children:Object(O.jsx)(l.a,{})})]}),Object(O.jsxs)("div",{className:U.a.col,children:[Object(O.jsx)("div",{className:U.a.username,children:Object(O.jsx)("span",{children:a})}),Object(O.jsx)("div",{className:U.a.followBtn,children:Object(O.jsx)(E.a,{inFollowProcess:m,followed:c,userId:n})})]})]})},S=c(3),y=c(263),C=c.n(y),P=c(264),B=c.n(P),z=function(){var e=d.a.bind(B.a),t=Object(b.a)().isDarkMode,c=Object(s.useState)("up"),n=Object(r.a)(c,2),a=n[0],o=n[1],i=Object(s.useState)(0),l=Object(r.a)(i,2),u=l[0],j=l[1],f=Object(s.useState)(!1),p=Object(r.a)(f,2),m=p[0],_=p[1];return Object(s.useEffect)((function(){var e=document.scrollingElement,t=function(t){e.scrollTop<=500?(_(!1),j(0)):t.deltaY<0?(o("up"),_(!0)):_(!1)};return document.addEventListener("wheel",t),function(){return document.removeEventListener("wheel",t)}}),[]),Object(s.useEffect)((function(){var e=document.scrollingElement,t=0,c=0,n=function(e){t=e.changedTouches[0].screenY},r=function(n){c=n.changedTouches[0].screenY,e.scrollTop<=500&&c!==t?(_(!1),j(0)):(c<t&&_(!1),c>t&&(o("up"),_(!0)))};return document.addEventListener("touchstart",n),document.addEventListener("touchend",r),function(){document.removeEventListener("touchstart",n),document.removeEventListener("touchend",r)}}),[]),Object(O.jsx)("div",{className:e({scrollBtn:!0,visible:m,scrollBtnD:t}),onClick:function(){var e=document.scrollingElement;if(e){var t="up"===a?0:u;e.scroll({behavior:"smooth",top:t}),j(e.scrollTop),o((function(e){return"down"===e?"up":"down"}))}},children:Object(O.jsx)("button",{children:Object(O.jsx)(h,{size:"20px",type:a,color:t?"#8ea6f4":"#1c3177"})})})};t.default=function(){var e=Object(a.a)(),t=Object(S.h)(),c=new URLSearchParams(Object(S.g)().search),u=Object(o.a)((function(e){return e.users})),d=u.totalCount,j=u.users,h=Object(b.a)().isDarkMode,f=Object(s.useState)(!1),p=Object(r.a)(f,2),m=p[0],_=p[1],x=Object(s.useState)({count:40,page:Number(c.get("page"))||1,term:c.get("term")||void 0,friend:!!c.get("friend")||void 0}),v=Object(r.a)(x,2),g=v[0],k=v[1],U=Object(s.useCallback)((function(){var e=g.page,c=g.friend,n=g.term,s=Object.entries({friend:c,term:n}).reduce((function(e,t){var c=Object(r.a)(t,2),n=c[0],s=c[1];return void 0!==s?"".concat(e,"&").concat(n,"=").concat(s):e}),"?page=".concat(e));t({search:s})}),[g,t]);return Object(s.useEffect)((function(){var e=document.scrollingElement,t=function(){var t=e.scrollTop,c=e.scrollHeight,r=e.clientHeight;!m&&d&&t+r>=c-500&&j.length<d&&(_(!0),k((function(e){return Object(n.a)(Object(n.a)({},e),{},{page:e.page+1})})))};return document.addEventListener("scroll",t),function(){return document.removeEventListener("scroll",t)}}),[d,j,m]),Object(s.useEffect)((function(){_(!0),e(Object(i.b)(g)).then((function(){_(!1),U()}))}),[e,g,U]),Object(s.useEffect)((function(){return function(){e(Object(i.c)())}}),[e]),Object(O.jsxs)("div",{className:C.a.users,children:[Object(O.jsxs)("div",{className:"".concat(C.a.header," ").concat(h&&C.a.headerD),children:[Object(O.jsx)("div",{className:C.a.usersFound,children:Object(O.jsxs)("span",{children:["Users found: ",null===d||void 0===d?void 0:d.toLocaleString()]})}),Object(O.jsx)(w,{queryParams:g,setQueryParams:k,fetching:m})]}),d?Object(O.jsxs)("ul",{className:C.a.usersList,children:[j.map((function(e){return Object(s.createElement)(L,Object(n.a)(Object(n.a)({},e),{},{key:e.id}))})),m&&Object(O.jsx)("div",{className:C.a.preloader,children:Object(O.jsx)(l.a,{})})]}):0===d?Object(O.jsxs)("div",{className:C.a.notFound,children:[Object(O.jsx)("span",{children:"No results for"}),Object(O.jsxs)("span",{className:C.a.term,children:['"',g.term,'"']})]}):Object(O.jsx)(l.a,{}),Object(O.jsx)(z,{})]})}}}]);
//# sourceMappingURL=5.ae5f4d0d.chunk.js.map