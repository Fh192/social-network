{"version":3,"sources":["hooks/useSelector.ts","components/Menu/Menu.module.css","components/Profile/ProfileHeader/UserPhoto/UserPhoto.module.css","components/Profile/Posts/Post/Post.module.css","api/index.ts","components/Preloader/Preloader.tsx","hooks/useDispatch.ts","components/Profile/About/About.module.css","svg/CrossIcon.tsx","components/Profile/Posts/CreatePost/CreatePost.module.css","components/Profile/Posts/Posts.module.css","api/followAPI.ts","components/Chat/Chat.module.css","api/profileAPI.ts","store/actions/profile.ts","store/reducers/profileReducer.ts","components/Profile/Posts/Comment/Comment.module.css","components/Profile/ViewPhoto/ViewPhoto.module.css","assets/userPhoto.png","assets/userPhotoDark.png","api/authAPI.ts","api/securityAPI.ts","store/reducers/authReducer.ts","components/Chat/Message/Message.module.css","components/Profile/ProfileHeader/ProfileHeader.module.css","api/usersAPI.ts","store/reducers/usersSlice.ts","components/TogleTheme/ToggleTheme.tsx","components/TogleTheme/ToggleTheme.module.css","components/Profile/Profile.module.css","common/contactIcons.tsx","components/FollowButton/FollowButton.tsx","components/Preloader/Preloader.module.css","components/FollowButton/FollowButton.module.css","store/selectors/authSelectors.ts","svg/MessageIcon.tsx","components/Chat/Message/Message.tsx","components/Chat/Chat.tsx","common/getUserPhoto.ts","hooks/useUserPhoto.ts","svg/LogoutIcon.tsx","svg/ProfileIcon.tsx","svg/UsersIcon.tsx","components/Menu/Menu.tsx","svg/InfoIcon.tsx","svg/NoDataIcon.tsx","components/Profile/About/About.tsx","store/selectors/profileSelectors.ts","store/actions/posts.ts","store/reducers/postsReducer.ts","svg/LinkIcon.tsx","components/Profile/Posts/CreatePost/CreatePost.tsx","svg/CommentIcon.tsx","svg/LikeIcon.tsx","svg/SendIcon.tsx","components/Profile/Posts/Comment/Comment.tsx","components/Profile/Posts/Post/Post.tsx","components/Profile/Posts/Posts.tsx","components/Profile/ProfileHeader/UserPhoto/CropPhoto.tsx","assets/openToWork.png","svg/CameraIcon.tsx","components/Profile/ViewPhoto/ViewPhoto.tsx","components/Profile/ProfileHeader/UserPhoto/UserPhoto.tsx","components/Profile/ProfileHeader/ProfileHeader.tsx","components/Profile/Profile.tsx","components/App.tsx","store/reducers/rootReducer.ts","store/index.ts","index.tsx"],"names":["useSelector","useReduxSelector","module","exports","api","axios","create","baseURL","withCredentials","headers","Preloader","size","color","isDarkMode","useDarkMode","fill","className","styles","preloader","xmlns","width","height","viewBox","x1","y1","x2","y2","id","stopColor","stopOpacity","offset","fillRule","transform","d","stroke","strokeWidth","attributeName","type","from","to","dur","repeatCount","cx","cy","r","useDispatch","useReduxDispatch","CrossIcon","clipRule","followAPI","getFollowed","userId","a","get","data","follow","post","unfollow","delete","profileAPI","getUserProfile","contacts","Object","fromEntries","entries","filter","name","updatePhoto","image","fr","FormData","append","put","updateProfile","profileFormData","setUserProfile","createAction","setUserPhoto","toggleFollow","toggleFollowProcess","initialState","followed","inFollowProcess","aboutMe","lookingForAJob","lookingForAJobDescription","fullName","status","github","vk","facebook","instagram","twitter","youtube","photos","small","large","profileReducer","createReducer","b","addCase","actions","state","action","payload","dispatch","getState","ownerId","auth","profile","resultCode","updates","_","authAPI","me","login","loginFormData","logout","securityAPI","captcha","url","email","isAuth","loginError","captchaFetching","getCaptcha","createAsyncThunk","rejectWithValue","getUserAuthData","userData","messages","Error","e","message","authReducer","fulfilled","pending","rejected","usersAPI","getUsers","params","URLSearchParams","forEach","key","value","undefined","set","toString","users","totalCount","inFollowProgress","errors","items","usersReducer","createSlice","reducers","setInitialState","extraReducers","push","userIndex","findIndex","user","meta","arg","ToggleTheme","toggle","toggleThemeD","toggleTheme","onClick","icons","clipPath","FollowButton","padding","fontSize","classNames","bind","pathname","useLocation","followBtn","followBtnD","disabled","includes","usersToggleFollow","profileToggleFollow","style","getAuthState","MessageIcon","Message","userName","setIsChatOpen","props","useState","photo","photoPlaceholder","setPhoto","useEffect","photoPlaceholderD","src","alt","col","username","text","Chat","ref","useRef","bottomRef","messagesRef","ws","setWs","isChatOpen","inputValue","setInputValue","setMessages","toggleOpenStatus","v","webSocket","WebSocket","close","messageListener","newMessages","JSON","parse","m","addEventListener","removeEventListener","current","scrollIntoView","behavior","useOnClickOutside","chatWrap","chat","hidden","chatD","header","title","map","i","bottom","input","placeholder","onChange","currentTarget","onKeyDown","send","open","openD","getUserPhoto","useUserPhoto","userPhoto","photoLoadErr","setPhotoLoadErr","photoErrorHandler","target","onerror","LogoutIcon","xmlnsXlink","version","xmlSpace","ProfileIcon","UsersIcon","Menu","s","window","innerWidth","isMobile","setIsMobile","onLogout","useLayoutEffect","listener","mMenu","mMenuD","mToggleTheme","mList","mItem","link","avatar","onError","mLogout","menu","menuD","list","item","InfoIcon","NoDataIcon","rx","ry","About","contactsAsArr","isEmpty","some","contact","about","aboutD","noData","content","column","icon","infoIcon","job","validateLink","href","rel","selectIsOwner","addPost","deletePost","likePost","postId","commentPost","comment","posts","localStorage","getItem","postsReducer","unshift","setItem","stringify","postIndex","postLikes","likes","comments","createPost","imageSrc","Date","now","addDate","author","LinkIcon","CreatePost","setCreatePostMode","newPostText","setNewPostText","setImageSrc","createBtnDisabled","trim","createPostModal","createPostD","inner","userAvatar","textarea","footer","addImage","imagePreview","accept","files","file","FileReader","onload","result","readAsDataURL","createButton","createButtonDisabled","CommentIcon","LikeIcon","liked","SendIcon","Comment","isLast","time","toLocaleString","hour","minute","hour12","commentBorder","authorAvatar","Post","newCommentText","setNewCommentText","postDateYear","month","day","year","postDateTime","onSendComment","Number","createComment","checkIsLastComment","lastIndexOf","length","postD","left","postDate","postText","rate","like","writeComment","commentAuthorAvatar","writeCommentInput","commentsList","Posts","isOwner","createPostMode","postsWrapper","createPostButton","main","noPosts","noPostsD","noPostsInner","CropPhoto","setPhotoEditMode","setUpdating","canvasRef","cropContainerRef","x","y","crop","setCrop","zoom","setZoom","croppedArea","setCroppedArea","onCropComplete","useCallback","croppedAreaPixels","onClose","cropPhotoWrap","cropPhoto","cropPhotoD","cropContainer","cropShape","aspect","onCropChange","onZoomChange","objectFit","cropperControls","saveButton","canvas","ctx","getContext","img","Image","clearRect","drawImage","toBlob","blob","File","then","closeButton","CameraIcon","ViewPhoto","setPhotoViewMode","photoLoaded","setPhotoLoaded","viewPhoto","viewPhotoD","info","display","onLoad","UserPhoto","tooltipRef","hoverRef","isHover","useHover","photoEditMode","photoViewMode","tooltipVisible","setTooltipVisible","updating","handleClickOnAvatar","cursor","hoverPhoto","openToWorkImg","tooltip","tooltipD","uploadPhoto","htmlFor","RegExp","test","ProfileHeader","headerD","buttons","button","Profile","useParams","profileId","fetching","setFetching","NotFound","lazy","Login","Users","Dialogs","EditProfile","App","appInitialized","setAppInitialized","document","body","fallback","path","element","rootReducer","combineReducers","usersSlice","store","configureStore","reducer","devTools","process","ReactDOM","render","StrictMode","basename","getElementById"],"mappings":"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","file":"static/js/main.3ccbd6d3.chunk.js","sourcesContent":["import {\r\n  TypedUseSelectorHook,\r\n  useSelector as useReduxSelector,\r\n} from 'react-redux';\r\nimport { RootState } from '../store';\r\n\r\nexport const useSelector: TypedUseSelectorHook<RootState> = useReduxSelector;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"menu\":\"Menu_menu__2-xGk\",\"toggleTheme\":\"Menu_toggleTheme__2K0eQ\",\"mToggleTheme\":\"Menu_mToggleTheme__1JheS\",\"mMenu\":\"Menu_mMenu__3EODD\",\"menuD\":\"Menu_menuD__3LnBa\",\"mMenuD\":\"Menu_mMenuD__1C6To\",\"mInner\":\"Menu_mInner__3yu-N\",\"mList\":\"Menu_mList__3J3UN\",\"mLogout\":\"Menu_mLogout__2-Szh\",\"list\":\"Menu_list__36iGh\",\"item\":\"Menu_item__3aA6C\",\"link\":\"Menu_link__2JySw\",\"bottom\":\"Menu_bottom__MCMR9\",\"user\":\"Menu_user__10dov\",\"avatar\":\"Menu_avatar__LQOJA\",\"logout\":\"Menu_logout__uD7OX\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"UserPhoto_avatar__pbxYq\",\"inner\":\"UserPhoto_inner__3Q2et\",\"lookingForAJob\":\"UserPhoto_lookingForAJob__cGm0w\",\"photo\":\"UserPhoto_photo__1X0JD\",\"hoverPhoto\":\"UserPhoto_hoverPhoto__3qLGe\",\"cropPhotoWrap\":\"UserPhoto_cropPhotoWrap__2WuXJ\",\"cropPhoto\":\"UserPhoto_cropPhoto__3BquO\",\"cropPhotoD\":\"UserPhoto_cropPhotoD__XLjxK\",\"header\":\"UserPhoto_header__3ZHwY\",\"close\":\"UserPhoto_close___ebvJ\",\"cropContainer\":\"UserPhoto_cropContainer__k25nS\",\"cropperControls\":\"UserPhoto_cropperControls__3XK5a\",\"canvas\":\"UserPhoto_canvas__1l4_m\",\"preloader\":\"UserPhoto_preloader__1SHFX\",\"tooltip\":\"UserPhoto_tooltip__3bIpj\",\"tooltipD\":\"UserPhoto_tooltipD__OV7-5\",\"uploadPhoto\":\"UserPhoto_uploadPhoto__2gU56\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"post\":\"Post_post__2EtFO\",\"postD\":\"Post_postD__3fWht\",\"header\":\"Post_header__1_K6u\",\"left\":\"Post_left__TI1y8\",\"col\":\"Post_col__2sjJq\",\"delete\":\"Post_delete__1112e\",\"authorAvatar\":\"Post_authorAvatar__J0M4W\",\"username\":\"Post_username__2xbRT\",\"postDate\":\"Post_postDate__4vWWU\",\"postText\":\"Post_postText__2Qf21\",\"image\":\"Post_image__1J-L0\",\"rate\":\"Post_rate___eCEG\",\"like\":\"Post_like__abD1p\",\"comment\":\"Post_comment__n4lAC\",\"comments\":\"Post_comments__2Y2JR\",\"writeComment\":\"Post_writeComment__1ORFO\",\"commentAuthorAvatar\":\"Post_commentAuthorAvatar__1BdvX\",\"writeCommentInput\":\"Post_writeCommentInput__29pSQ\",\"commentsList\":\"Post_commentsList__2gePP\"};","import axios from 'axios';\r\n\r\nconst api = axios.create({\r\n  baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n  withCredentials: true,\r\n  headers: { 'API-KEY': 'a3f656c8-219b-497c-b91e-7723447501cd' },\r\n});\r\n\r\nexport default api;\r\n","import React from 'react';\r\nimport { useDarkMode } from 'usehooks-ts';\r\nimport styles from './Preloader.module.css';\r\n\r\nconst Preloader: React.FC<{ size?: string; color?: string }> = ({\r\n  size = '50px',\r\n  color,\r\n}) => {\r\n  const { isDarkMode } = useDarkMode();\r\n  const fill = color || (isDarkMode ? '#8ea6f4' : '#0d1117');\r\n  return (\r\n    <div className={styles.preloader}>\r\n      <svg\r\n        xmlns='http://www.w3.org/2000/svg'\r\n        width={size}\r\n        height={size}\r\n        viewBox='0 0 38 38'\r\n      >\r\n        <defs>\r\n          <linearGradient\r\n            x1='8.042%'\r\n            y1='0%'\r\n            x2='65.682%'\r\n            y2='23.865%'\r\n            id={fill}\r\n          >\r\n            <stop stopColor={fill} stopOpacity='0' offset='0%' />\r\n            <stop stopColor={fill} stopOpacity='.631' offset='63.146%' />\r\n            <stop stopColor={fill} offset='100%' />\r\n          </linearGradient>\r\n        </defs>\r\n        <g fill='none' fillRule='evenodd'>\r\n          <g transform='translate(1 1)'>\r\n            <path\r\n              d='M36 18c0-9.94-8.06-18-18-18'\r\n              id='Oval-2'\r\n              stroke={`url(#${fill})`}\r\n              strokeWidth='2'\r\n            >\r\n              <animateTransform\r\n                attributeName='transform'\r\n                type='rotate'\r\n                from='0 18 18'\r\n                to='360 18 18'\r\n                dur='0.9s'\r\n                repeatCount='indefinite'\r\n              />\r\n            </path>\r\n            <circle fill='#fff' cx='36' cy='18' r='1'>\r\n              <animateTransform\r\n                attributeName='transform'\r\n                type='rotate'\r\n                from='0 18 18'\r\n                to='360 18 18'\r\n                dur='0.9s'\r\n                repeatCount='indefinite'\r\n              />\r\n            </circle>\r\n          </g>\r\n        </g>\r\n      </svg>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Preloader;\r\n","import { RootDispatch } from '../store';\r\nimport { useDispatch as useReduxDispatch } from 'react-redux';\r\n\r\nexport const useDispatch = () => useReduxDispatch<RootDispatch>();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"about\":\"About_about__2a_W3\",\"aboutD\":\"About_aboutD__2td9H\",\"content\":\"About_content__yluDK\",\"title\":\"About_title__3tML5\",\"noData\":\"About_noData__D83XJ\",\"column\":\"About_column__c71SX\",\"item\":\"About_item__3cDIX\",\"contact\":\"About_contact__3HywV\",\"icon\":\"About_icon__2yz0p\",\"job\":\"About_job__22urs\",\"infoIcon\":\"About_infoIcon__2sClU\",\"contacts\":\"About_contacts__3z4VU\",\"vk\":\"About_vk__1jrCU\",\"instagram\":\"About_instagram__2Flye\",\"facebook\":\"About_facebook__1T9w_\",\"youtube\":\"About_youtube__397-Y\",\"twitter\":\"About_twitter__11TcG\",\"github\":\"About_github__2POiZ\"};","import React from 'react';\r\n\r\nexport const CrossIcon: React.FC<{ size: string }> = ({ size }) => {\r\n  return (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      width={size}\r\n      height={size}\r\n      viewBox='0 0 12 12'\r\n      fill='none'\r\n    >\r\n      <path\r\n        fillRule='evenodd'\r\n        clipRule='evenodd'\r\n        d='M9.70711 2.29289C10.0976 2.68342 10.0976 3.31658 9.70711 3.70711L3.70711 9.70711C3.31658 10.0976 2.68342 10.0976 2.29289 9.70711C1.90237 9.31658 1.90237 8.68342 2.29289 8.29289L8.29289 2.29289C8.68342 1.90237 9.31658 1.90237 9.70711 2.29289Z'\r\n        fill='#99A2AD'\r\n      />\r\n      <path\r\n        fillRule='evenodd'\r\n        clipRule='evenodd'\r\n        d='M2.29289 2.29289C2.68342 1.90237 3.31658 1.90237 3.70711 2.29289L9.70711 8.29289C10.0976 8.68342 10.0976 9.31658 9.70711 9.70711C9.31658 10.0976 8.68342 10.0976 8.29289 9.70711L2.29289 3.70711C1.90237 3.31658 1.90237 2.68342 2.29289 2.29289Z'\r\n        fill='#99A2AD'\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"createPostModal\":\"CreatePost_createPostModal___yeEg\",\"createPost\":\"CreatePost_createPost__qVPWk\",\"createPostD\":\"CreatePost_createPostD__2A3cG\",\"header\":\"CreatePost_header__1ljjz\",\"close\":\"CreatePost_close__2ev-c\",\"inner\":\"CreatePost_inner__3ocYI\",\"userAvatar\":\"CreatePost_userAvatar__nd6GB\",\"textarea\":\"CreatePost_textarea__1Yvd2\",\"footer\":\"CreatePost_footer__14SPx\",\"imagePreview\":\"CreatePost_imagePreview__kPFON\",\"addImage\":\"CreatePost_addImage__1IymI\",\"createButton\":\"CreatePost_createButton__Q781g\",\"createButtonDisabled\":\"CreatePost_createButtonDisabled__h5Ze0\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"postsWrapper\":\"Posts_postsWrapper___G_sW\",\"createPost\":\"Posts_createPost__1N_ps\",\"createPostD\":\"Posts_createPostD__vexoA\",\"userAvatar\":\"Posts_userAvatar__2uSCx\",\"createPostButton\":\"Posts_createPostButton__WhYH0\",\"main\":\"Posts_main__1BS61\",\"title\":\"Posts_title__1UMbE\",\"posts\":\"Posts_posts__Lu8he\",\"noPosts\":\"Posts_noPosts__1G_2R\",\"noPostsInner\":\"Posts_noPostsInner__1uDOB\",\"noPostsD\":\"Posts_noPostsD__38g2z\"};","import api from '.';\r\nimport { ServerData } from './../types/common';\r\n\r\nconst followAPI = {\r\n  getFollowed: async (userId: number): Promise<boolean> => {\r\n    const { data } = await api.get<boolean>(`follow/${userId}`);\r\n\r\n    return data;\r\n  },\r\n  follow: async (userId: number): Promise<ServerData> => {\r\n    const { data } = await api.post<ServerData>(`follow/${userId}`);\r\n\r\n    return data;\r\n  },\r\n  unfollow: async (userId: number): Promise<ServerData> => {\r\n    const { data } = await api.delete<ServerData>(`follow/${userId}`);\r\n\r\n    return data;\r\n  },\r\n};\r\n\r\nexport default followAPI;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"chatWrap\":\"Chat_chatWrap__3kBTV\",\"chat\":\"Chat_chat__1k0Zh\",\"open\":\"Chat_open__20Ejk\",\"header\":\"Chat_header__32tTe\",\"title\":\"Chat_title__3H6l-\",\"close\":\"Chat_close__3Qppl\",\"messages\":\"Chat_messages__5nMDX\",\"input\":\"Chat_input__1TLcm\",\"hidden\":\"Chat_hidden__g3bZb\",\"bottom\":\"Chat_bottom__3P6WG\",\"openD\":\"Chat_openD__2D5Q7\",\"chatD\":\"Chat_chatD__ZDXjP\"};","import { AxiosResponse } from 'axios';\r\nimport api from '.';\r\nimport { IPhotos, ServerData } from '../types/common';\r\nimport { IContacts, IProfile, IProfileForUpdate } from '../types/profile';\r\n\r\nconst profileAPI = {\r\n  getUserProfile: async (userId: number): Promise<IProfile> => {\r\n    const { data } = await api.get<IProfile>(`profile/${userId}`);\r\n\r\n    // remove unnecessary contacts\r\n    const contacts = Object.fromEntries(\r\n      Object.entries(data.contacts).filter(([name]) => {\r\n        return name !== 'mainLink' && name !== 'website';\r\n      })\r\n    ) as IContacts;\r\n\r\n    return { ...data, contacts };\r\n  },\r\n  updatePhoto: async (\r\n    image: File\r\n  ): Promise<ServerData<{ photos: IPhotos }>> => {\r\n    const fr = new FormData();\r\n    fr.append('image', image);\r\n\r\n    const { data } = await api.put<\r\n      FormData,\r\n      AxiosResponse<ServerData<{ photos: IPhotos }>>\r\n    >('profile/photo', fr, {\r\n      headers: { 'Content-Type': 'multipart/form-data' },\r\n    });\r\n\r\n    return data;\r\n  },\r\n  updateProfile: async (profileFormData: IProfile): Promise<ServerData> => {\r\n    const { data } = await api.put<\r\n      IProfileForUpdate,\r\n      AxiosResponse<ServerData>\r\n    >('profile', profileFormData);\r\n\r\n    return data;\r\n  },\r\n};\r\n\r\nexport default profileAPI;\r\n","import { createAction } from '@reduxjs/toolkit';\r\nimport { IPhotos } from '../../types/common';\r\nimport { IProfile } from '../../types/profile';\r\n\r\nexport const setUserProfile = createAction<IProfile>(\r\n  'profile/SET_USER_PROFILE'\r\n);\r\n\r\nexport const setUserPhoto = createAction<IPhotos>('profile/SET_USER_PHOTO');\r\n\r\nexport const toggleFollow = createAction<boolean>('profile/TOGGLE_FOLLOW');\r\n\r\nexport const toggleFollowProcess = createAction<boolean>(\r\n  'profile/TOGGLE_FOLLOW_PROCESS'\r\n);\r\n","import { createReducer } from '@reduxjs/toolkit';\r\nimport { ThunkAction } from 'redux-thunk';\r\nimport { Actions, RootDispatch, RootState } from '..';\r\nimport followAPI from '../../api/followAPI';\r\nimport profileAPI from '../../api/profileAPI';\r\nimport { IPhotos, Nullable } from '../../types/common';\r\nimport { IContacts, IProfile } from '../../types/profile';\r\nimport * as actions from '../actions/profile';\r\n\r\ntype ProfileActions = ReturnType<Actions<typeof actions>>;\r\ntype ProfileThunk = ThunkAction<\r\n  Promise<void>,\r\n  RootState,\r\n  unknown,\r\n  ProfileActions\r\n>;\r\n\r\nexport interface ProfileState {\r\n  followed: boolean;\r\n  inFollowProcess: boolean;\r\n  aboutMe: Nullable<string>;\r\n  userId: Nullable<number>;\r\n  lookingForAJob: boolean;\r\n  lookingForAJobDescription: Nullable<string>;\r\n  fullName: string;\r\n  status: string;\r\n  contacts: IContacts;\r\n  photos: IPhotos;\r\n}\r\n\r\nconst initialState: ProfileState = {\r\n  followed: false,\r\n  inFollowProcess: false,\r\n  aboutMe: '',\r\n  userId: null,\r\n  lookingForAJob: false,\r\n  lookingForAJobDescription: null,\r\n  fullName: '',\r\n  status: '',\r\n  contacts: {\r\n    github: null,\r\n    vk: null,\r\n    facebook: null,\r\n    instagram: null,\r\n    twitter: null,\r\n    youtube: null,\r\n  },\r\n  photos: {\r\n    small: null,\r\n    large: null,\r\n  },\r\n};\r\n\r\nconst profileReducer = createReducer(initialState, b => {\r\n  b.addCase(actions.setUserProfile, (state, action) => {\r\n    return { ...state, ...action.payload };\r\n  });\r\n\r\n  b.addCase(actions.setUserPhoto, (state, action) => {\r\n    state.photos = action.payload;\r\n  });\r\n\r\n  b.addCase(actions.toggleFollowProcess, (state, action) => {\r\n    state.inFollowProcess = action.payload;\r\n  });\r\n\r\n  b.addCase(actions.toggleFollow, (state, action) => {\r\n    state.followed = action.payload;\r\n    state.inFollowProcess = false;\r\n  });\r\n});\r\n\r\nexport const getUserProfile =\r\n  (userId: number): ProfileThunk =>\r\n  async (dispatch, getState) => {\r\n    const { id: ownerId } = getState().auth;\r\n    dispatch(actions.setUserProfile(initialState));\r\n\r\n    const profile = await profileAPI.getUserProfile(userId);\r\n    let followed = false;\r\n\r\n    if (ownerId !== userId) {\r\n      followed = await followAPI.getFollowed(userId);\r\n    }\r\n\r\n    dispatch(actions.setUserProfile({ ...profile, followed }));\r\n  };\r\n\r\nexport const updatePhoto =\r\n  (image: File): ProfileThunk =>\r\n  async dispatch => {\r\n    const { data, resultCode } = await profileAPI.updatePhoto(image);\r\n\r\n    if (resultCode === 0) {\r\n      dispatch(actions.setUserPhoto(data.photos));\r\n    }\r\n  };\r\n\r\nexport const updateProfile =\r\n  (updates: Partial<IProfile>): ProfileThunk =>\r\n  async (_, getState) => {\r\n    const { profile } = getState();\r\n    await profileAPI.updateProfile({ ...profile, ...updates });\r\n  };\r\n\r\nexport const toggleFollow =\r\n  (userId: number) => async (dispatch: RootDispatch) => {\r\n    dispatch(actions.toggleFollowProcess(true));\r\n    const followed = await followAPI.getFollowed(userId);\r\n\r\n    if (followed) {\r\n      await followAPI.unfollow(userId);\r\n    } else {\r\n      await followAPI.follow(userId);\r\n    }\r\n\r\n    dispatch(actions.toggleFollow(!followed));\r\n  };\r\n\r\nexport default profileReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"comment\":\"Comment_comment__2x9rV\",\"commentBorder\":\"Comment_commentBorder__CiHhi\",\"inner\":\"Comment_inner__1jdq3\",\"authorAvatar\":\"Comment_authorAvatar__3smz-\",\"col\":\"Comment_col__1OqD_\",\"username\":\"Comment_username__fYmnH\",\"addDate\":\"Comment_addDate__OaBFA\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"viewPhotoWrap\":\"ViewPhoto_viewPhotoWrap__g8PzW\",\"viewPhoto\":\"ViewPhoto_viewPhoto__CdexA\",\"viewPhotoD\":\"ViewPhoto_viewPhotoD__1NsI2\",\"header\":\"ViewPhoto_header__3_tFh\",\"close\":\"ViewPhoto_close__2Jp3-\",\"info\":\"ViewPhoto_info__2LdbY\",\"username\":\"ViewPhoto_username__36TcM\",\"photo\":\"ViewPhoto_photo__1lP1g\",\"preloader\":\"ViewPhoto_preloader__2BVyW\"};","export default \"data:image/png;base64,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\"","export default \"data:image/png;base64,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\"","import { AxiosResponse } from 'axios';\r\nimport api from '.';\r\nimport { IAuthLogin, IAuthMe } from '../types/auth';\r\nimport { ServerData } from '../types/common';\r\n\r\nconst authAPI = {\r\n  me: async (): Promise<IAuthMe> => {\r\n    const { data } = await api.get<IAuthMe>('auth/me');\r\n\r\n    return data;\r\n  },\r\n  login: async (loginFormData: IAuthLogin): Promise<ServerData> => {\r\n    const { data } = await api.post<IAuthLogin, AxiosResponse<ServerData>>(\r\n      'auth/login',\r\n      loginFormData\r\n    );\r\n\r\n    return data;\r\n  },\r\n  logout: async (): Promise<void> => {\r\n    await api.delete('auth/login');\r\n  },\r\n};\r\n\r\nexport default authAPI;\r\n","import api from '.';\r\n\r\nconst securityAPI = {\r\n  captcha: async (): Promise<string> => {\r\n    const {\r\n      data: { url },\r\n    } = await api.get<{ url: string }>('security/get-captcha-url');\r\n\r\n    return url;\r\n  },\r\n};\r\n\r\nexport default securityAPI;\r\n","import { createAsyncThunk, createReducer } from '@reduxjs/toolkit';\r\nimport authAPI from '../../api/authAPI';\r\nimport securityAPI from '../../api/securityAPI';\r\nimport { IAuthLogin } from '../../types/auth';\r\nimport { Nullable } from '../../types/common';\r\nimport { UserData } from './../../types/auth';\r\n\r\nexport interface AuthState {\r\n  id: Nullable<number>;\r\n  email: string;\r\n  login: string;\r\n  captcha: string;\r\n  isAuth: boolean;\r\n  loginError: string;\r\n  captchaFetching: boolean;\r\n}\r\n\r\nexport const initialState: AuthState = {\r\n  id: null,\r\n  email: '',\r\n  login: '',\r\n  captcha: '',\r\n  isAuth: false,\r\n  loginError: '',\r\n  captchaFetching: false,\r\n};\r\n\r\nexport const getCaptcha = createAsyncThunk<string>(\r\n  'auth/getCaptcha',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const captcha = await securityAPI.captcha();\r\n      return captcha;\r\n    } catch (e) {\r\n      return rejectWithValue('');\r\n    }\r\n  }\r\n);\r\n\r\nexport const logout = createAsyncThunk(\r\n  'auth/logout',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      await authAPI.logout();\r\n    } catch (e) {\r\n      return rejectWithValue(e);\r\n    }\r\n  }\r\n);\r\n\r\nexport const getUserAuthData = createAsyncThunk<UserData, void>(\r\n  'auth/getUserAuthData',\r\n  async (_, { rejectWithValue }) => {\r\n    try {\r\n      const { data: userData, resultCode, messages } = await authAPI.me();\r\n\r\n      if (resultCode !== 0) throw new Error(...messages);\r\n\r\n      return userData;\r\n    } catch (e) {\r\n      return rejectWithValue(e);\r\n    }\r\n  }\r\n);\r\n\r\nexport const login = createAsyncThunk<void, IAuthLogin>(\r\n  'auth/login',\r\n  async (loginFormData, { dispatch, rejectWithValue }) => {\r\n    try {\r\n      const data = await authAPI.login(loginFormData);\r\n      const resultCode = data.resultCode;\r\n\r\n      if (resultCode === 0) {\r\n        dispatch(getUserAuthData());\r\n      } else {\r\n        if (resultCode === 10) dispatch(getCaptcha());\r\n        throw new Error(data.messages[0]);\r\n      }\r\n    } catch (err) {\r\n      const e: Error = err as Error;\r\n      return rejectWithValue(e.message);\r\n    }\r\n  }\r\n);\r\n\r\nconst authReducer = createReducer(initialState, b => {\r\n  b.addCase(getUserAuthData.fulfilled, (state, action) => {\r\n    return { ...state, ...action.payload, isAuth: true };\r\n  });\r\n\r\n  b.addCase(getCaptcha.fulfilled, (state, action) => {\r\n    state.captcha = action.payload;\r\n    state.captchaFetching = false;\r\n  });\r\n\r\n  b.addCase(getCaptcha.pending, state => {\r\n    state.captchaFetching = true;\r\n  });\r\n\r\n  b.addCase(login.rejected, (state, action) => {\r\n    state.loginError = action.payload as string;\r\n  });\r\n\r\n  b.addCase(login.fulfilled, state => {\r\n    state.loginError = '';\r\n  });\r\n\r\n  b.addCase(logout.fulfilled, () => initialState);\r\n});\r\n\r\nexport default authReducer;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"message\":\"Message_message__1PeSj\",\"col\":\"Message_col__3bDBo\",\"photo\":\"Message_photo__1Xglz\",\"username\":\"Message_username__2--aO\",\"text\":\"Message_text__11JD-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"ProfileHeader_header__1LIp3\",\"headerD\":\"ProfileHeader_headerD__40iFQ\",\"user\":\"ProfileHeader_user__1Nih5\",\"username\":\"ProfileHeader_username__2fj8w\",\"column\":\"ProfileHeader_column__24xHl\",\"moreInfo\":\"ProfileHeader_moreInfo__1alRI\",\"LFJ\":\"ProfileHeader_LFJ__iBVPj\",\"isLFJ\":\"ProfileHeader_isLFJ__3Ci5C\",\"isLFJCursor\":\"ProfileHeader_isLFJCursor__2-bLC\",\"arrow\":\"ProfileHeader_arrow__2cXfV\",\"buttons\":\"ProfileHeader_buttons__3gdxU\",\"button\":\"ProfileHeader_button__3O-IQ\",\"message\":\"ProfileHeader_message__3QsYy\",\"editProfile\":\"ProfileHeader_editProfile__-hPVN\"};","import api from '.';\r\nimport { IGetUsersParams, IUsersResponse } from './../types/users';\r\n\r\nconst usersAPI = {\r\n  getUsers: async (payload: IGetUsersParams): Promise<IUsersResponse> => {\r\n    const params = new URLSearchParams();\r\n    const entries = Object.entries(payload);\r\n\r\n    entries.forEach(([key, value]) => {\r\n      if (value !== undefined) params.set(key, value.toString());\r\n    });\r\n\r\n    const { data } = await api.get<IUsersResponse>(`users?${params}`);\r\n\r\n    return data;\r\n  },\r\n};\r\n\r\nexport default usersAPI;\r\n","import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\r\nimport followAPI from '../../api/followAPI';\r\nimport usersAPI from '../../api/usersAPI';\r\nimport { Nullable } from '../../types/common';\r\nimport { IGetUsersParams, IUser } from '../../types/users';\r\n\r\nexport interface UsersState {\r\n  users: Array<IUser>;\r\n  totalCount: Nullable<number>;\r\n  inFollowProgress: number[];\r\n  errors: {\r\n    follow: boolean;\r\n    users: boolean;\r\n  };\r\n}\r\n\r\nexport const initialState: UsersState = {\r\n  users: [],\r\n  totalCount: null,\r\n  inFollowProgress: [],\r\n  errors: {\r\n    follow: false,\r\n    users: false,\r\n  },\r\n};\r\n\r\nexport const getUsers = createAsyncThunk<\r\n  { users: IUser[]; totalCount: number },\r\n  IGetUsersParams\r\n>('getUsers', async (params, { rejectWithValue }) => {\r\n  try {\r\n    const data = await usersAPI.getUsers(params);\r\n    const { items: users, totalCount } = data;\r\n\r\n    return { users, totalCount };\r\n  } catch (e) {\r\n    return rejectWithValue(e);\r\n  }\r\n});\r\n\r\nexport const toggleFollow = createAsyncThunk<number, number>(\r\n  'toggleFollow',\r\n  async (userId: number, { rejectWithValue }) => {\r\n    try {\r\n      const isFollowed = await followAPI.getFollowed(userId);\r\n\r\n      if (isFollowed) {\r\n        await followAPI.unfollow(userId);\r\n      } else {\r\n        await followAPI.follow(userId);\r\n      }\r\n\r\n      return userId;\r\n    } catch (e) {\r\n      return rejectWithValue(e);\r\n    }\r\n  }\r\n);\r\n\r\nconst usersReducer = createSlice({\r\n  name: 'users',\r\n  initialState,\r\n  reducers: {\r\n    setInitialState: () => initialState,\r\n  },\r\n  extraReducers: b => {\r\n    b.addCase(getUsers.fulfilled, (state, action) => {\r\n      const { users, totalCount } = action.payload;\r\n      state.users.push(...users);\r\n      state.totalCount = totalCount;\r\n      state.errors.users = false;\r\n    });\r\n    b.addCase(toggleFollow.fulfilled, (state, action) => {\r\n      const userId = action.payload;\r\n      const userIndex = state.users.findIndex(user => user.id === userId);\r\n      const user = state.users[userIndex];\r\n\r\n      user.followed = !user.followed;\r\n      state.inFollowProgress = state.inFollowProgress.filter(\r\n        id => id !== userId\r\n      );\r\n      state.errors.follow = false;\r\n    });\r\n\r\n    b.addCase(toggleFollow.pending, (state, action) => {\r\n      const userId = action.meta.arg;\r\n      state.inFollowProgress.push(userId);\r\n    });\r\n  },\r\n});\r\n\r\nexport const { setInitialState } = usersReducer.actions;\r\nexport default usersReducer.reducer;\r\n","import React from 'react';\r\nimport { useDarkMode } from 'usehooks-ts';\r\nimport styles from './ToggleTheme.module.css';\r\n\r\nexport const ToggleTheme: React.FC = () => {\r\n  const { isDarkMode, toggle } = useDarkMode();\r\n\r\n  return (\r\n    <div\r\n      className={`${isDarkMode ? styles.toggleThemeD : styles.toggleTheme}`}\r\n      onClick={toggle}\r\n    >\r\n      {isDarkMode ? (\r\n        <svg width='30px' fill='#fff' viewBox='0 0 24 24'>\r\n          <path d='M6.76 4.84l-1.8-1.79-1.41 1.41 1.79 1.79 1.42-1.41zM4 10.5H1v2h3v-2zm9-9.95h-2V3.5h2V.55zm7.45 3.91l-1.41-1.41-1.79 1.79 1.41 1.41 1.79-1.79zm-3.21 13.7l1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4zM20 10.5v2h3v-2h-3zm-8-5c-3.31 0-6 2.69-6 6s2.69 6 6 6 6-2.69 6-6-2.69-6-6-6zm-1 16.95h2V19.5h-2v2.95zm-7.45-3.91l1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8z'></path>\r\n        </svg>\r\n      ) : (\r\n        <svg width='30px' fill='#0D1117' viewBox='0 0 24 24'>\r\n          <path d='M9 2c-1.05 0-2.05.16-3 .46 4.06 1.27 7 5.06 7 9.54 0 4.48-2.94 8.27-7 9.54.95.3 1.95.46 3 .46 5.52 0 10-4.48 10-10S14.52 2 9 2z'></path>\r\n        </svg>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"toggleTheme\":\"ToggleTheme_toggleTheme__1JO3j\",\"toggleThemeD\":\"ToggleTheme_toggleThemeD__W3jtO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"Profile_profile__1atpg\",\"main\":\"Profile_main__16CX4\"};","import React from 'react';\r\nimport { IContacts } from '../types/profile';\r\n\r\nexport type Icons = { [key in keyof IContacts]: JSX.Element };\r\nexport const icons: Icons = {\r\n  vk: (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      width='25'\r\n      height='24'\r\n      viewBox='0 0 24 24'\r\n    >\r\n      <path\r\n        fill='#fff'\r\n        d='M13.162 18.994c.609 0 .858-.406.851-.915-.031-1.917.714-2.949 2.059-1.604 1.488 1.488 1.796 2.519 3.603 2.519h3.2c.808 0 1.126-.26 1.126-.668 0-.863-1.421-2.386-2.625-3.504-1.686-1.565-1.765-1.602-.313-3.486 1.801-2.339 4.157-5.336 2.073-5.336h-3.981c-.772 0-.828.435-1.103 1.083-.995 2.347-2.886 5.387-3.604 4.922-.751-.485-.407-2.406-.35-5.261.015-.754.011-1.271-1.141-1.539-.629-.145-1.241-.205-1.809-.205-2.273 0-3.841.953-2.95 1.119 1.571.293 1.42 3.692 1.054 5.16-.638 2.556-3.036-2.024-4.035-4.305-.241-.548-.315-.974-1.175-.974h-3.255c-.492 0-.787.16-.787.516 0 .602 2.96 6.72 5.786 9.77 2.756 2.975 5.48 2.708 7.376 2.708z'\r\n      />\r\n    </svg>\r\n  ),\r\n  facebook: (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      width='25'\r\n      height='24'\r\n      viewBox='0 0 25 24'\r\n      fill='none'\r\n    >\r\n      <path\r\n        d='M24.125 12C24.125 5.57812 18.9219 0.375 12.5 0.375C6.07812 0.375 0.875 5.57812 0.875 12C0.875 17.8022 5.12609 22.6116 10.6836 23.4844V15.3605H7.73047V12H10.6836V9.43875C10.6836 6.52547 12.418 4.91625 15.0744 4.91625C16.3466 4.91625 17.6769 5.14313 17.6769 5.14313V8.0025H16.2106C14.7669 8.0025 14.3164 8.89875 14.3164 9.81797V12H17.5405L17.0248 15.3605H14.3164V23.4844C19.8739 22.6116 24.125 17.8022 24.125 12Z'\r\n        fill='white'\r\n      />\r\n    </svg>\r\n  ),\r\n  twitter: (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      width='25'\r\n      height='20'\r\n      viewBox='0 0 25 20'\r\n      fill='none'\r\n    >\r\n      <path\r\n        d='M24.454 2.38171C23.569 2.78054 22.624 3.05224 21.629 3.1763C22.643 2.54985 23.423 1.56252 23.792 0.38448C22.841 0.9535 21.787 1.36771 20.665 1.5984C19.769 0.61516 18.492 0 17.074 0C14.357 0 12.154 2.25868 12.154 5.04127C12.154 5.44112 12.199 5.8256 12.281 6.19367C8.191 5.9958 4.566 3.98216 2.14 0.93812C1.713 1.67837 1.474 2.53858 1.474 3.47568C1.474 5.22889 2.344 6.76988 3.662 7.67519C2.855 7.64854 2.096 7.42093 1.434 7.04363V7.10617C1.434 9.5514 3.127 11.5907 5.38 12.0552C4.967 12.169 4.531 12.2305 4.084 12.2305C3.77 12.2305 3.469 12.1997 3.168 12.1423C3.799 14.1447 5.613 15.6047 7.772 15.6457C6.092 16.998 3.963 17.8039 1.67 17.8039C1.28 17.8039 0.891 17.7803 0.5 17.7352C2.689 19.1644 5.268 20 8.057 20C17.111 20 22.056 12.3146 22.056 5.66053C22.056 5.44625 22.056 5.22992 22.041 5.01461C23.002 4.3082 23.841 3.41518 24.501 2.40221L24.454 2.38171Z'\r\n        fill='white'\r\n      />\r\n    </svg>\r\n  ),\r\n  instagram: (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      width='25'\r\n      height='24'\r\n      viewBox='0 0 25 24'\r\n      fill='none'\r\n    >\r\n      <g clipPath='url(#clip0_623:65)'>\r\n        <path\r\n          d='M12.5 0C9.24 0 8.833 0.015 7.553 0.072C6.275 0.132 5.405 0.333 4.64 0.63C3.851 0.936 3.181 1.347 2.514 2.014C1.847 2.681 1.435 3.35 1.13 4.14C0.833 4.905 0.631 5.775 0.572 7.053C0.512 8.333 0.5 8.74 0.5 12C0.5 15.26 0.515 15.667 0.572 16.947C0.632 18.224 0.833 19.095 1.13 19.86C1.436 20.648 1.847 21.319 2.514 21.986C3.181 22.652 3.85 23.065 4.64 23.37C5.406 23.666 6.276 23.869 7.553 23.928C8.833 23.988 9.24 24 12.5 24C15.76 24 16.167 23.985 17.447 23.928C18.724 23.868 19.595 23.666 20.36 23.37C21.148 23.064 21.819 22.652 22.486 21.986C23.152 21.319 23.565 20.651 23.87 19.86C24.166 19.095 24.369 18.224 24.428 16.947C24.488 15.667 24.5 15.26 24.5 12C24.5 8.74 24.485 8.333 24.428 7.053C24.368 5.776 24.166 4.904 23.87 4.14C23.564 3.351 23.152 2.681 22.486 2.014C21.819 1.347 21.151 0.935 20.36 0.63C19.595 0.333 18.724 0.131 17.447 0.072C16.167 0.012 15.76 0 12.5 0ZM12.5 2.16C15.703 2.16 16.085 2.176 17.35 2.231C18.52 2.286 19.155 2.48 19.577 2.646C20.139 2.863 20.537 3.123 20.959 3.542C21.378 3.962 21.638 4.361 21.855 4.923C22.019 5.345 22.215 5.98 22.268 7.15C22.325 8.416 22.338 8.796 22.338 12C22.338 15.204 22.323 15.585 22.264 16.85C22.203 18.02 22.008 18.655 21.843 19.077C21.619 19.639 21.364 20.037 20.944 20.459C20.525 20.878 20.12 21.138 19.564 21.355C19.144 21.519 18.499 21.715 17.329 21.768C16.055 21.825 15.68 21.838 12.47 21.838C9.259 21.838 8.884 21.823 7.611 21.764C6.44 21.703 5.795 21.508 5.375 21.343C4.806 21.119 4.415 20.864 3.996 20.444C3.575 20.025 3.306 19.62 3.096 19.064C2.931 18.644 2.737 17.999 2.676 16.829C2.631 15.569 2.615 15.18 2.615 11.985C2.615 8.789 2.631 8.399 2.676 7.124C2.737 5.954 2.931 5.31 3.096 4.89C3.306 4.32 3.575 3.93 3.996 3.509C4.415 3.09 4.806 2.82 5.375 2.611C5.795 2.445 6.426 2.25 7.596 2.19C8.871 2.145 9.246 2.13 12.455 2.13L12.5 2.16ZM12.5 5.838C9.095 5.838 6.338 8.598 6.338 12C6.338 15.405 9.098 18.162 12.5 18.162C15.905 18.162 18.662 15.402 18.662 12C18.662 8.595 15.902 5.838 12.5 5.838ZM12.5 16C10.29 16 8.5 14.21 8.5 12C8.5 9.79 10.29 8 12.5 8C14.71 8 16.5 9.79 16.5 12C16.5 14.21 14.71 16 12.5 16ZM20.346 5.595C20.346 6.39 19.7 7.035 18.906 7.035C18.111 7.035 17.466 6.389 17.466 5.595C17.466 4.801 18.112 4.156 18.906 4.156C19.699 4.155 20.346 4.801 20.346 5.595Z'\r\n          fill='white'\r\n        />\r\n      </g>\r\n      <defs>\r\n        <clipPath id='clip0_623:65'>\r\n          <rect\r\n            width='24'\r\n            height='24'\r\n            fill='white'\r\n            transform='translate(0.5)'\r\n          />\r\n        </clipPath>\r\n      </defs>\r\n    </svg>\r\n  ),\r\n  youtube: (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      width='24'\r\n      height='24'\r\n      viewBox='0 0 24 24'\r\n      fill='none'\r\n    >\r\n      <path\r\n        d='M23.4982 6.15419C23.2227 5.10952 22.4086 4.28694 21.3764 4.00726C19.5055 3.5 12 3.5 12 3.5C12 3.5 4.49455 3.5 2.62364 4.00726C1.59136 4.28694 0.777273 5.10952 0.501818 6.15419C0 8.04887 0 12 0 12C0 12 0 15.9511 0.501818 17.8458C0.777273 18.8905 1.59136 19.7131 2.62364 19.9927C4.49455 20.5 12 20.5 12 20.5C12 20.5 19.5055 20.5 21.3764 19.9927C22.4086 19.7131 23.2227 18.8905 23.4982 17.8458C24 15.9511 24 12 24 12C24 12 24 8.04887 23.4982 6.15419Z'\r\n        fill='white'\r\n      />\r\n      <path\r\n        d='M9.54541 15.5878L15.8181 11.9999L9.54541 8.41211V15.5878Z'\r\n        fill='#FF0000'\r\n      />\r\n    </svg>\r\n  ),\r\n  github: (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      width='24'\r\n      height='24'\r\n      viewBox='0 0 24 24'\r\n      fill='none'\r\n    >\r\n      <path\r\n        d='M8.02742 19.0196C8.02742 19.1147 7.91613 19.1908 7.77581 19.1908C7.61613 19.205 7.50484 19.129 7.50484 19.0196C7.50484 18.9244 7.61613 18.8484 7.75645 18.8484C7.90161 18.8341 8.02742 18.9102 8.02742 19.0196ZM6.52258 18.8055C6.48871 18.9007 6.58548 19.0101 6.73065 19.0386C6.85645 19.0861 7.00161 19.0386 7.03064 18.9435C7.05968 18.8484 6.96774 18.739 6.82258 18.6962C6.69677 18.6629 6.55645 18.7104 6.52258 18.8055ZM8.66129 18.7247C8.52097 18.758 8.42419 18.8484 8.43871 18.9577C8.45323 19.0529 8.57903 19.1147 8.72419 19.0814C8.86452 19.0481 8.96129 18.9577 8.94677 18.8626C8.93226 18.7723 8.80161 18.7104 8.66129 18.7247ZM11.8452 0.5C5.13387 0.5 0 5.50799 0 12.1045C0 17.3788 3.37742 21.8921 8.20161 23.4806C8.82097 23.59 9.03871 23.2143 9.03871 22.9052C9.03871 22.6103 9.02419 20.9838 9.02419 19.985C9.02419 19.985 5.6371 20.6984 4.92581 18.5678C4.92581 18.5678 4.37419 17.1838 3.58065 16.8271C3.58065 16.8271 2.47258 16.0804 3.65806 16.0947C3.65806 16.0947 4.8629 16.1898 5.52581 17.3217C6.58548 19.1575 8.36129 18.6296 9.05323 18.3157C9.16452 17.5547 9.47903 17.0268 9.82742 16.7129C7.12258 16.4181 4.39355 16.0328 4.39355 11.4576C4.39355 10.1498 4.76129 9.49345 5.53548 8.65641C5.40968 8.34727 4.99839 7.07269 5.66129 5.42714C6.67258 5.118 9 6.71124 9 6.71124C9.96774 6.4449 11.0081 6.30698 12.0387 6.30698C13.0694 6.30698 14.1097 6.4449 15.0774 6.71124C15.0774 6.71124 17.4048 5.11325 18.4161 5.42714C19.079 7.07744 18.6677 8.34727 18.5419 8.65641C19.3161 9.49821 19.7903 10.1545 19.7903 11.4576C19.7903 16.0471 16.9403 16.4133 14.2355 16.7129C14.6806 17.0887 15.0581 17.802 15.0581 18.9197C15.0581 20.5224 15.0435 22.5057 15.0435 22.8956C15.0435 23.2048 15.2661 23.5805 15.8806 23.4711C20.7194 21.8921 24 17.3788 24 12.1045C24 5.50799 18.5565 0.5 11.8452 0.5ZM4.70323 16.9032C4.64032 16.9507 4.65484 17.0601 4.7371 17.1505C4.81452 17.2266 4.92581 17.2599 4.98871 17.198C5.05161 17.1505 5.0371 17.0411 4.95484 16.9507C4.87742 16.8746 4.76613 16.8414 4.70323 16.9032ZM4.18064 16.518C4.14677 16.5798 4.19516 16.6559 4.29194 16.7034C4.36935 16.751 4.46613 16.7367 4.5 16.6701C4.53387 16.6083 4.48548 16.5322 4.38871 16.4847C4.29194 16.4561 4.21452 16.4704 4.18064 16.518ZM5.74839 18.2111C5.67097 18.2729 5.7 18.4156 5.81129 18.5059C5.92258 18.6153 6.0629 18.6296 6.12581 18.5535C6.18871 18.4917 6.15968 18.349 6.0629 18.2586C5.95645 18.1492 5.81129 18.135 5.74839 18.2111ZM5.19677 17.5119C5.11935 17.5595 5.11935 17.6832 5.19677 17.7925C5.27419 17.9019 5.40484 17.9495 5.46774 17.9019C5.54516 17.8401 5.54516 17.7164 5.46774 17.6071C5.4 17.4977 5.27419 17.4501 5.19677 17.5119Z'\r\n        fill='white'\r\n      />\r\n    </svg>\r\n  ),\r\n};\r\n","import classNames from 'classnames/bind';\r\nimport React from 'react';\r\nimport { useLocation } from 'react-router';\r\nimport { useDarkMode } from 'usehooks-ts';\r\nimport { useDispatch } from '../../hooks/useDispatch';\r\nimport { toggleFollow as profileToggleFollow } from '../../store/reducers/profileReducer';\r\nimport { toggleFollow as usersToggleFollow } from '../../store/reducers/usersSlice';\r\nimport Preloader from '../Preloader/Preloader';\r\nimport styles from './FollowButton.module.css';\r\n\r\ninterface Props {\r\n  userId: number;\r\n  followed: boolean;\r\n  inFollowProcess: boolean;\r\n  padding?: string;\r\n  fontSize?: string;\r\n}\r\n\r\nconst FollowButton: React.FC<Props> = ({\r\n  userId,\r\n  followed,\r\n  inFollowProcess,\r\n  padding,\r\n  fontSize,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const cx = classNames.bind(styles);\r\n  const { isDarkMode } = useDarkMode();\r\n  const { pathname } = useLocation();\r\n\r\n  const onToggleFollow = () => {\r\n    if (pathname.includes('/users')) {\r\n      dispatch(usersToggleFollow(userId));\r\n    } else if (pathname.includes('/profile')) {\r\n      dispatch(profileToggleFollow(userId));\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={cx({\r\n        followBtn: true,\r\n        followBtnD: isDarkMode,\r\n      })}\r\n    >\r\n      <button\r\n        className={cx({ followed: followed, disabled: inFollowProcess })}\r\n        disabled={inFollowProcess}\r\n        onClick={onToggleFollow}\r\n        style={{ padding, fontSize }}\r\n      >\r\n        {inFollowProcess ? (\r\n          <Preloader size=\"15\" color={followed ? '#000' : '#fff'} />\r\n        ) : followed ? (\r\n          'Unfollow'\r\n        ) : (\r\n          'Follow'\r\n        )}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FollowButton;\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__3D97z\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"followBtn\":\"FollowButton_followBtn__2rLc2\",\"followed\":\"FollowButton_followed__2b9bw\",\"followBtnD\":\"FollowButton_followBtnD__1rN7t\",\"disabled\":\"FollowButton_disabled__3DLp2\"};","import { RootState } from '..';\r\n\r\nexport const getAuthState = (state: RootState): RootState['auth'] => state.auth;\r\n","import React from 'react';\r\n\r\nconst MessageIcon: React.FC<{ size: string; fill: string }> = ({\r\n  size,\r\n  fill,\r\n}) => {\r\n  return (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      width={size}\r\n      height={size}\r\n      viewBox='0 0 29 28'\r\n    >\r\n      <path\r\n        fillRule='evenodd'\r\n        clipRule='evenodd'\r\n        d='M3.03688 13.4989C3.03688 7.83902 8.32589 3.5 14.5185 3.5C20.711 3.5 26 7.83902 26 13.4989C26 19.1589 20.711 23.4979 14.5185 23.4979C13.1453 23.4979 11.8254 23.288 10.6005 22.9013C9.15562 24.2498 7.05631 24.898 4.48829 24.9989C3.44219 25.04 2.68713 23.9519 3.12516 22.978C3.74656 21.5866 4.54946 19.9915 4.64467 18.6002C3.62784 17.1195 3.03688 15.3721 3.03688 13.4989ZM14.5185 5.5C9.13339 5.5 5.03688 9.21891 5.03688 13.4989C5.03688 15.0359 5.55151 16.4778 6.45874 17.6996C6.58676 17.872 6.65588 18.081 6.65588 18.2957C6.65588 19.9295 6.00461 21.471 5.34145 22.9339C7.39752 22.7155 8.74636 22.0571 9.55971 21.1C9.83288 20.7786 10.2784 20.6631 10.6733 20.8114C11.8455 21.2516 13.1458 21.4979 14.5185 21.4979C19.9035 21.4979 24 17.779 24 13.4989C24 9.21891 19.9035 5.5 14.5185 5.5Z'\r\n        fill={fill}\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default MessageIcon;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { IMessage } from '../../../types/chat';\r\nimport styles from './Message.module.css';\r\nimport photoPlaceholder from '../../../assets/userPhoto.png';\r\nimport photoPlaceholderD from '../../../assets/userPhotoDark.png';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDarkMode } from 'usehooks-ts';\r\n\r\ninterface Props extends IMessage {\r\n  setIsChatOpen: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nconst Message: React.FC<Props> = ({\r\n  message,\r\n  userId,\r\n  userName,\r\n  setIsChatOpen,\r\n  ...props\r\n}) => {\r\n  const [photo, setPhoto] = useState(props.photo ?? photoPlaceholder);\r\n  const { isDarkMode } = useDarkMode();\r\n\r\n  useEffect(() => {\r\n    if (!props.photo) {\r\n      if (isDarkMode) {\r\n        setPhoto(photoPlaceholderD);\r\n      } else {\r\n        setPhoto(photoPlaceholder);\r\n      }\r\n    }\r\n  }, [props.photo, isDarkMode]);\r\n\r\n  return (\r\n    <div className={styles.message}>\r\n      <Link to={`/profile/${userId}`} onClick={() => setIsChatOpen(false)}>\r\n        <div className={styles.photo}>\r\n          <img src={photo} alt='user' />\r\n        </div>\r\n      </Link>\r\n      <div className={styles.col}>\r\n        <div className={styles.username}>\r\n          <Link to={`/profile/${userId}`} onClick={() => setIsChatOpen(false)}>\r\n            <span>{userName}</span>\r\n          </Link>\r\n        </div>\r\n        <div className={styles.text}>\r\n          <span>{message}</span>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Message;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport classNames from 'classnames/bind';\r\nimport { useDarkMode, useOnClickOutside } from 'usehooks-ts';\r\nimport { CrossIcon } from '../../svg/CrossIcon';\r\nimport MessageIcon from '../../svg/MessageIcon';\r\nimport styles from './Chat.module.css';\r\nimport Message from './Message/Message';\r\nimport { IMessage } from '../../types/chat';\r\nimport Preloader from '../Preloader/Preloader';\r\n\r\nconst Chat: React.FC = () => {\r\n  const cx = classNames.bind(styles);\r\n\r\n  const ref = useRef<HTMLDivElement>(null);\r\n  const bottomRef = useRef<HTMLDivElement>(null);\r\n  const messagesRef = useRef<HTMLDivElement>(null);\r\n\r\n  const { isDarkMode } = useDarkMode();\r\n\r\n  const [ws, setWs] = useState<WebSocket | null>(null);\r\n  const [isChatOpen, setIsChatOpen] = useState(false);\r\n  const [inputValue, setInputValue] = useState('');\r\n  const [messages, setMessages] = useState<IMessage[]>([]);\r\n\r\n  const toggleOpenStatus = () => {\r\n    setIsChatOpen(v => !v);\r\n  };\r\n\r\n  const inputKeyDownHandler = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && inputValue) {\r\n      setInputValue('');\r\n      ws?.send(inputValue);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    const webSocket = new WebSocket(\r\n      'wss://social-network.samuraijs.com/handlers/ChatHandler.ashx'\r\n    );\r\n    setWs(webSocket);\r\n\r\n    return () => webSocket.close();\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const messageListener = (e: MessageEvent) => {\r\n      const newMessages = JSON.parse(e.data);\r\n      setMessages(m => [...m, ...newMessages]);\r\n    };\r\n\r\n    ws?.addEventListener('message', messageListener);\r\n\r\n    return () => {\r\n      ws?.removeEventListener('message', messageListener);\r\n    };\r\n  }, [ws]);\r\n\r\n  useEffect(() => {\r\n    bottomRef.current?.scrollIntoView({ behavior: 'smooth' });\r\n  }, [messages, isChatOpen]);\r\n\r\n  useOnClickOutside(ref, () => {\r\n    setIsChatOpen(false);\r\n  });\r\n\r\n  return (\r\n    <div className={styles.chatWrap} ref={ref}>\r\n      <div\r\n        className={cx({\r\n          chat: true,\r\n          hidden: !isChatOpen,\r\n          chatD: isDarkMode,\r\n        })}\r\n      >\r\n        <div className={styles.header}>\r\n          <div className={styles.title}>\r\n            <span>Chat</span>\r\n          </div>\r\n          <div className={styles.close} onClick={toggleOpenStatus}>\r\n            <CrossIcon size='15px' />\r\n          </div>\r\n        </div>\r\n\r\n        <div className={styles.messages} ref={messagesRef}>\r\n          {ws ? (\r\n            messages.map((m, i) => {\r\n              return <Message {...m} key={i} setIsChatOpen={setIsChatOpen} />;\r\n            })\r\n          ) : (\r\n            <Preloader />\r\n          )}\r\n\r\n          <div className={styles.bottom} ref={bottomRef} />\r\n        </div>\r\n\r\n        <div className={styles.input}>\r\n          <input\r\n            type='text'\r\n            placeholder='Write a message...'\r\n            value={inputValue}\r\n            onChange={e => setInputValue(e.currentTarget.value)}\r\n            onKeyDown={inputKeyDownHandler}\r\n          />\r\n        </div>\r\n      </div>\r\n      <button\r\n        className={cx({ open: true, openD: isDarkMode })}\r\n        onClick={toggleOpenStatus}\r\n      >\r\n        {isChatOpen ? (\r\n          <CrossIcon size='20px' />\r\n        ) : (\r\n          <MessageIcon size='20px' fill='#979EA7' />\r\n        )}\r\n      </button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Chat;\r\n","export const getUserPhoto = (userId: number): string => {\r\n  return `https://social-network.samuraijs.com/activecontent/images/users/${userId}/user.jpg`;\r\n};\r\n","import { BaseSyntheticEvent, useEffect, useState } from 'react';\r\nimport { useDarkMode } from 'usehooks-ts';\r\nimport photoPlaceholder from '../assets/userPhoto.png';\r\nimport photoPlaceholderD from '../assets/userPhotoDark.png';\r\n\r\nexport const useUserPhoto = (userPhoto: string) => {\r\n  const [photo, setPhoto] = useState(userPhoto);\r\n  const [photoLoadErr, setPhotoLoadErr] = useState(false);\r\n  const { isDarkMode } = useDarkMode();\r\n\r\n  const photoErrorHandler = (e: BaseSyntheticEvent) => {\r\n    e.target.onerror = null;\r\n    setPhotoLoadErr(true);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!photoLoadErr) return undefined;\r\n    setPhoto(isDarkMode ? photoPlaceholderD : photoPlaceholder);\r\n  }, [photoLoadErr, isDarkMode]);\r\n\r\n  return { photo, photoErrorHandler };\r\n};\r\n","import React from 'react';\r\n\r\nconst LogoutIcon: React.FC<{ size: string }> = ({ size }) => {\r\n  return (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      xmlnsXlink='http://www.w3.org/1999/xlink'\r\n      version='1.1'\r\n      viewBox='0 0 489.9 489.9'\r\n      xmlSpace='preserve'\r\n      width={size}\r\n      height={size}\r\n    >\r\n      <g>\r\n        <g>\r\n          <g fill='red'>\r\n            <path d='M468.3,255.8c0.1-0.1,0.1-0.1,0.2-0.2c0.3-0.4,0.6-0.7,0.8-1.1c0.1-0.1,0.1-0.2,0.2-0.3c0.2-0.4,0.5-0.8,0.7-1.2     c0-0.1,0.1-0.2,0.1-0.2c0.2-0.4,0.4-0.8,0.6-1.3c0-0.1,0-0.1,0.1-0.2c0.2-0.4,0.3-0.9,0.5-1.4c0-0.1,0-0.2,0.1-0.2     c0.1-0.5,0.3-0.9,0.3-1.4c0-0.2,0-0.3,0.1-0.5c0.1-0.4,0.1-0.8,0.2-1.2c0.1-0.6,0.1-1.1,0.1-1.7c0-0.6,0-1.1-0.1-1.7     c0-0.4-0.1-0.8-0.2-1.2c0-0.2,0-0.3-0.1-0.5c-0.1-0.5-0.2-0.9-0.3-1.4c0-0.1,0-0.2-0.1-0.2c-0.1-0.5-0.3-0.9-0.5-1.4     c0-0.1,0-0.1-0.1-0.2c-0.2-0.4-0.4-0.9-0.6-1.3c0-0.1-0.1-0.2-0.1-0.2c-0.2-0.4-0.4-0.8-0.7-1.2c-0.1-0.1-0.1-0.2-0.2-0.3     c-0.3-0.4-0.5-0.8-0.8-1.1c-0.1-0.1-0.1-0.1-0.2-0.2c-0.4-0.4-0.7-0.9-1.2-1.3l-98.9-98.8c-6.7-6.7-17.6-6.7-24.3,0     c-6.7,6.7-6.7,17.6,0,24.3l69.6,69.6H136.8c-9.5,0-17.2,7.7-17.2,17.1c0,9.5,7.7,17.2,17.2,17.2h276.8l-69.1,69.1     c-6.7,6.7-6.7,17.6,0,24.3c3.3,3.3,7.7,5,12.1,5s8.8-1.7,12.1-5l98.3-98.3C467.5,256.6,467.9,256.2,468.3,255.8z' />\r\n            <path d='M110.7,34.3h128c9.5,0,17.2-7.7,17.2-17.1c0-9.5-7.7-17.2-17.2-17.2h-128C59.4,0,17.6,41.8,17.6,93.1v303.7     c0,51.3,41.8,93.1,93.1,93.1h125.9c9.5,0,17.2-7.7,17.2-17.1c0-9.5-7.7-17.2-17.2-17.2H110.7c-32.4,0-58.8-26.4-58.8-58.8V93.1     C52,60.6,78.3,34.3,110.7,34.3z' />\r\n          </g>\r\n        </g>\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default LogoutIcon;\r\n","import React from 'react';\r\n\r\nconst ProfileIcon: React.FC<{ size: string }> = ({ size }) => {\r\n  return (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      width={size}\r\n      height={size}\r\n      viewBox='0 0 29 28'\r\n      fill='none'\r\n    >\r\n      <path\r\n        d='M14.5 2C21.1274 2 26.5 7.37258 26.5 14C26.5 20.6274 21.1274 26 14.5 26C7.87258 26 2.5 20.6274 2.5 14C2.5 7.37258 7.87258 2 14.5 2ZM14.5 20.5C12.4141 20.5 10.42 21.082 8.70321 22.149C10.3382 23.3146 12.339 24 14.5 24C16.6605 24 18.661 23.3148 20.296 22.15C18.5795 21.0818 16.5857 20.5 14.5 20.5ZM14.5 4C8.97715 4 4.5 8.47715 4.5 14C4.5 16.6157 5.50426 18.9968 7.14823 20.7788C9.28562 19.3082 11.831 18.5 14.5 18.5C17.1693 18.5 19.7149 19.3084 21.8527 20.7774C23.4961 18.9959 24.5 16.6152 24.5 14C24.5 8.47715 20.0228 4 14.5 4ZM14.5 7.5C17.1242 7.5 19.25 9.62584 19.25 12.25C19.25 14.8742 17.1242 17 14.5 17C11.8758 17 9.75 14.8742 9.75 12.25C9.75 9.62584 11.8758 7.5 14.5 7.5ZM14.5 9.5C12.9804 9.5 11.75 10.7304 11.75 12.25C11.75 13.7696 12.9804 15 14.5 15C16.0196 15 17.25 13.7696 17.25 12.25C17.25 10.7304 16.0196 9.5 14.5 9.5Z'\r\n        fill='#99A2AD'\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default ProfileIcon;\r\n","import React from 'react';\r\n\r\nconst UsersIcon: React.FC<{ size: string }> = ({ size }) => {\r\n  return (\r\n    <svg\r\n      fill='none'\r\n      height={size}\r\n      viewBox='0 0 20 20'\r\n      width={size}\r\n      xmlns='http://www.w3.org/2000/svg'\r\n    >\r\n      <g fill='#99A2AD'>\r\n        <g clipRule='evenodd' fillRule='evenodd'>\r\n          <path d='M6.25 3.5a3 3 0 100 6 3 3 0 000-6zm-1.5 3a1.5 1.5 0 103 0 1.5 1.5 0 00-3 0zM2.69 11.57c.96-.55 2.22-.82 3.56-.82s2.6.27 3.56.82c.98.56 1.69 1.47 1.69 2.68 0 .7-.28 1.3-.78 1.71-.48.39-1.1.54-1.72.54H3.5c-.61 0-1.24-.15-1.72-.54-.5-.4-.78-1-.78-1.71 0-1.21.71-2.12 1.69-2.68zm.75 1.3c-.65.37-.94.84-.94 1.38 0 .3.1.44.22.54.14.11.4.21.78.21H9c.39 0 .64-.1.78-.21.12-.1.22-.25.22-.54 0-.54-.29-1-.94-1.38-.66-.39-1.65-.62-2.81-.62s-2.15.23-2.81.62zM13.75 3.5a3 3 0 100 6 3 3 0 000-6zm-1.5 3a1.5 1.5 0 103 0 1.5 1.5 0 00-3 0z'></path>\r\n        </g>\r\n        <path d='M13.75 12.25c-.23 0-.45.01-.68.03a.75.75 0 11-.14-1.49c.27-.03.54-.04.82-.04 1.34 0 2.6.27 3.56.82.98.56 1.69 1.47 1.69 2.68 0 .7-.28 1.3-.78 1.71-.48.39-1.1.54-1.72.54h-3a.75.75 0 010-1.5h3c.39 0 .64-.1.78-.21.12-.1.22-.25.22-.54 0-.54-.29-1-.94-1.38a5.77 5.77 0 00-2.81-.62z'></path>\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default UsersIcon;\r\n","import classNames from 'classnames/bind';\r\nimport React, { useLayoutEffect, useState } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDarkMode } from 'usehooks-ts';\r\nimport { getUserPhoto } from '../../common/getUserPhoto';\r\nimport { useDispatch } from '../../hooks/useDispatch';\r\nimport { useSelector } from '../../hooks/useSelector';\r\nimport { useUserPhoto } from '../../hooks/useUserPhoto';\r\nimport { logout } from '../../store/reducers/authReducer';\r\nimport LogoutIcon from '../../svg/LogoutIcon';\r\nimport MessageIcon from '../../svg/MessageIcon';\r\nimport ProfileIcon from '../../svg/ProfileIcon';\r\nimport UsersIcon from '../../svg/UsersIcon';\r\nimport { ToggleTheme } from '../TogleTheme/ToggleTheme';\r\nimport styles from './Menu.module.css';\r\n\r\nexport const Menu: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const cx = classNames.bind(styles);\r\n\r\n  const { id: userId, login: username } = useSelector(s => s.auth);\r\n  const { isDarkMode } = useDarkMode(false);\r\n  const [isMobile, setIsMobile] = useState(window.innerWidth <= 700);\r\n  const { photo, photoErrorHandler } = useUserPhoto(\r\n    getUserPhoto(userId as number)\r\n  );\r\n\r\n  const onLogout = () => {\r\n    dispatch(logout());\r\n  };\r\n\r\n  useLayoutEffect(() => {\r\n    const listener = () => {\r\n      setIsMobile(window.innerWidth <= 700);\r\n    };\r\n\r\n    window.addEventListener('resize', listener);\r\n    return () => window.removeEventListener('resize', listener);\r\n  }, []);\r\n\r\n  if (isMobile) {\r\n    return (\r\n      <nav className={cx({ mMenu: true, mMenuD: isDarkMode })}>\r\n        <div className={styles.mToggleTheme}>\r\n          <ToggleTheme />\r\n        </div>\r\n        <ul className={styles.mList}>\r\n          <li className={styles.mItem}>\r\n            <Link className={styles.link} to=\"/users?page=1\">\r\n              <UsersIcon size=\"25px\" />\r\n            </Link>\r\n          </li>\r\n          <li className={styles.mItem}>\r\n            <div className={styles.avatar}>\r\n              <Link to={`/profile/${userId}`}>\r\n                <img src={photo} alt={'user'} onError={photoErrorHandler} />\r\n              </Link>\r\n            </div>\r\n          </li>\r\n          <li className={styles.mItem}>\r\n            <Link className={styles.link} to=\"/dialogs\">\r\n              <MessageIcon size=\"25px\" fill=\"#99A2AD\" />\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n        <div className={styles.mLogout} onClick={onLogout}>\r\n          <LogoutIcon size=\"15px\" />\r\n        </div>\r\n      </nav>\r\n    );\r\n  } else {\r\n    return (\r\n      <nav className={cx({ menu: true, menuD: isDarkMode })}>\r\n        <div className={styles.toggleTheme}>\r\n          <ToggleTheme />\r\n        </div>\r\n        <ul className={styles.list}>\r\n          <li className={styles.item}>\r\n            <Link className={styles.link} to={`/profile/${userId}`}>\r\n              <ProfileIcon size=\"25px\" />\r\n              <span>Profile</span>\r\n            </Link>\r\n          </li>\r\n          <li className={styles.item}>\r\n            <Link className={styles.link} to=\"/users?page=1\">\r\n              <UsersIcon size=\"25px\" />\r\n              <span>Users</span>\r\n            </Link>\r\n          </li>\r\n          <li className={styles.item}>\r\n            <Link className={styles.link} to=\"/dialogs\">\r\n              <MessageIcon size=\"25px\" fill=\"#99A2AD\" />\r\n              <span>Dialogs</span>\r\n            </Link>\r\n          </li>\r\n        </ul>\r\n        <div className={styles.bottom}>\r\n          <Link to={`/profile/${userId}`}>\r\n            <div className={styles.user}>\r\n              <div className={styles.avatar}>\r\n                <img src={photo} alt={'user'} onError={photoErrorHandler} />\r\n              </div>\r\n              <div className={styles.username}>{username}</div>\r\n            </div>\r\n          </Link>\r\n\r\n          <div className={styles.logout} onClick={onLogout}>\r\n            <LogoutIcon size=\"15px\" />\r\n          </div>\r\n        </div>\r\n      </nav>\r\n    );\r\n  }\r\n};\r\n","import React from 'react';\r\n\r\nconst InfoIcon: React.FC<{ size: string }> = ({ size }) => {\r\n  return (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      xmlnsXlink='http://www.w3.org/1999/xlink'\r\n      version='1.1'\r\n      viewBox='0 0 330 330'\r\n      xmlSpace='preserve'\r\n      width={size}\r\n      height={size}\r\n      fill='#3a3a3a'\r\n    >\r\n      <g>\r\n        <path d='M165,0C74.019,0,0,74.02,0,165.001C0,255.982,74.019,330,165,330s165-74.018,165-164.999C330,74.02,255.981,0,165,0z    M165,300c-74.44,0-135-60.56-135-134.999C30,90.562,90.56,30,165,30s135,60.562,135,135.001C300,239.44,239.439,300,165,300z' />\r\n        <path\r\n          fill='#474747'\r\n          d='M164.998,70c-11.026,0-19.996,8.976-19.996,20.009c0,11.023,8.97,19.991,19.996,19.991   c11.026,0,19.996-8.968,19.996-19.991C184.994,78.976,176.024,70,164.998,70z'\r\n        />\r\n        <path\r\n          fill='#474747'\r\n          d='M165,140c-8.284,0-15,6.716-15,15v90c0,8.284,6.716,15,15,15c8.284,0,15-6.716,15-15v-90C180,146.716,173.284,140,165,140z   '\r\n        />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default InfoIcon;\r\n","import React from 'react';\r\nimport { useDarkMode } from 'usehooks-ts';\r\n\r\nconst NoDataIcon: React.FC<{ size: string }> = ({ size }) => {\r\n  const { isDarkMode } = useDarkMode();\r\n\r\n  return (\r\n    <svg\r\n      width={size}\r\n      height={size}\r\n      viewBox='0 0 64 41'\r\n      xmlns='http://www.w3.org/2000/svg'\r\n    >\r\n      <g transform='translate(0 1)' fill='none' fillRule='evenodd'>\r\n        <ellipse\r\n          fill={isDarkMode ? '#1C1F2B' : '#f5f5f5'}\r\n          cx='32'\r\n          cy='33'\r\n          rx='32'\r\n          ry='7'\r\n        ></ellipse>\r\n        <g fillRule='nonzero' stroke={isDarkMode ? '#ffffff40' : '#00000040'}>\r\n          <path d='M55 12.76L44.854 1.258C44.367.474 43.656 0 42.907 0H21.093c-.749 0-1.46.474-1.947 1.257L9 12.761V22h46v-9.24z'></path>\r\n          <path\r\n            fill={isDarkMode ? '#242733' : '#fafafa'}\r\n            d='M41.613 15.931c0-1.605.994-2.93 2.227-2.931H55v18.137C55 33.26 53.68 35 52.05 35h-40.1C10.32 35 9 33.259 9 31.137V13h11.16c1.233 0 2.227 1.323 2.227 2.928v.022c0 1.605 1.005 2.901 2.237 2.901h14.752c1.232 0 2.237-1.308 2.237-2.913v-.007z'\r\n          ></path>\r\n        </g>\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default NoDataIcon;\r\n","import classNames from 'classnames/bind';\r\nimport React from 'react';\r\nimport { useDarkMode } from 'usehooks-ts';\r\nimport { icons } from '../../../common/contactIcons';\r\nimport { useSelector } from '../../../hooks/useSelector';\r\nimport InfoIcon from '../../../svg/InfoIcon';\r\nimport NoDataIcon from '../../../svg/NoDataIcon';\r\nimport { IContacts } from '../../../types/profile';\r\nimport styles from './About.module.css';\r\n\r\nexport const About: React.FC = () => {\r\n  const cx = classNames.bind(styles);\r\n  const { isDarkMode } = useDarkMode();\r\n  const { aboutMe, contacts, lookingForAJobDescription } = useSelector(\r\n    s => s.profile\r\n  );\r\n\r\n  const contactsAsArr = Object.entries(contacts) as [keyof IContacts, string][];\r\n\r\n  const isEmpty = !(\r\n    aboutMe ||\r\n    contactsAsArr.some(contact => contact[1]) ||\r\n    lookingForAJobDescription\r\n  );\r\n\r\n  const validateLink = (link: IContacts[keyof IContacts]): boolean => {\r\n    return link ? link.includes('https://') : false;\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={cx({\r\n        about: true,\r\n        aboutD: isDarkMode,\r\n      })}\r\n    >\r\n      <div className={styles.title}>\r\n        <span>About</span>\r\n      </div>\r\n\r\n      {isEmpty ? (\r\n        <div className={styles.noData}>\r\n          <NoDataIcon size=\"100px\" />\r\n          <span>Nothing about user</span>\r\n        </div>\r\n      ) : (\r\n        <div className={styles.content}>\r\n          <ul className={styles.column}>\r\n            <li className={styles.item}>\r\n              <div\r\n                className={cx({\r\n                  icon: true,\r\n                  infoIcon: true,\r\n                })}\r\n              >\r\n                <InfoIcon size=\"21px\" />\r\n              </div>\r\n              <span>{aboutMe}</span>\r\n            </li>\r\n            <li className={`${styles.item} ${styles.job}`}>\r\n              <div className={styles.icon}>\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  width=\"22px \"\r\n                  height=\"22px\"\r\n                  viewBox=\"0 0 27 22\"\r\n                  fill=\"none\"\r\n                >\r\n                  <path\r\n                    d=\"M25.65 5.17647H20.25V3.88235C20.25 2.85269 19.8233 1.8652 19.0638 1.13712C18.3043 0.409033 17.2741 0 16.2 0H10.8C9.72587 0 8.69574 0.409033 7.93622 1.13712C7.1767 1.8652 6.75 2.85269 6.75 3.88235V5.17647H1.35C0.991958 5.17647 0.64858 5.31282 0.395406 5.55551C0.142232 5.7982 0 6.12737 0 6.47059V20.7059C0 21.0491 0.142232 21.3783 0.395406 21.621C0.64858 21.8637 0.991958 22 1.35 22H25.65C26.008 22 26.3514 21.8637 26.6046 21.621C26.8578 21.3783 27 21.0491 27 20.7059V6.47059C27 6.12737 26.8578 5.7982 26.6046 5.55551C26.3514 5.31282 26.008 5.17647 25.65 5.17647ZM9.45 3.88235C9.45 3.53913 9.59223 3.20997 9.84541 2.96727C10.0986 2.72458 10.442 2.58824 10.8 2.58824H16.2C16.558 2.58824 16.9014 2.72458 17.1546 2.96727C17.4078 3.20997 17.55 3.53913 17.55 3.88235V5.17647H9.45V3.88235ZM24.3 19.4118H2.7V12.9412H24.3V19.4118ZM24.3 11.6471H2.7V7.76471H24.3V11.6471Z\"\r\n                    fill=\"#3A3A3A\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n              <p>{lookingForAJobDescription}</p>\r\n            </li>\r\n          </ul>\r\n\r\n          <ul\r\n            className={cx({\r\n              contacts: contactsAsArr.some(contact => contact[1]),\r\n            })}\r\n          >\r\n            {contactsAsArr.map(([name, link]) => {\r\n              if (!validateLink(link)) return null;\r\n              return (\r\n                <li className={`${styles.contact} ${styles[name]}`} key={name}>\r\n                  <a\r\n                    className={styles.icon}\r\n                    href={link}\r\n                    target=\"_blank\"\r\n                    rel=\"noopener noreferrer\"\r\n                  >\r\n                    {icons[name]}\r\n                  </a>\r\n                </li>\r\n              );\r\n            })}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n","import { RootState as S } from '..';\r\n\r\nexport const getProfile = (state: S): S['profile'] => state.profile;\r\n\r\nexport const selectIsOwner = (state: S): boolean => {\r\n  return state.profile.userId === state.auth.id;\r\n};\r\n","import { createAction } from '@reduxjs/toolkit';\r\nimport { IPost, IComment } from './../../types/posts';\r\n\r\nexport const addPost = createAction<IPost>('posts/ADD_POST');\r\n\r\nexport const deletePost = createAction<number>('posts/DELETE_POST');\r\n\r\nexport const likePost = createAction(\r\n  'posts/LIKE_POST',\r\n  (postId: number, userId: number) => ({ payload: { postId, userId } })\r\n);\r\n\r\nexport const commentPost = createAction(\r\n  'posts/ADD_COMMENT',\r\n  (comment: IComment, postId: number) => ({\r\n    payload: { comment, postId },\r\n  })\r\n);\r\n","import { createReducer } from '@reduxjs/toolkit';\r\nimport { GetState, RootDispatch } from '../';\r\nimport { getUserPhoto } from '../../common/getUserPhoto';\r\nimport { addPost, commentPost, deletePost, likePost } from '../actions/posts';\r\nimport { IComment, IPost } from './../../types/posts';\r\n\r\nexport interface PostsState {\r\n  posts: Array<IPost>;\r\n}\r\n\r\nconst initialState: PostsState = {\r\n  posts: JSON.parse(localStorage.getItem('posts') || '[]'),\r\n};\r\n\r\nconst postsReducer = createReducer(initialState, b => {\r\n  b.addCase(addPost, (state, action) => {\r\n    state.posts.unshift(action.payload);\r\n    localStorage.setItem('posts', JSON.stringify(state.posts));\r\n  });\r\n\r\n  b.addCase(deletePost, (state, action) => {\r\n    const postId = action.payload;\r\n\r\n    state.posts = state.posts.filter(({ id }) => id !== postId);\r\n    localStorage.setItem('posts', JSON.stringify(state.posts));\r\n  });\r\n\r\n  b.addCase(likePost, (state, action) => {\r\n    const { postId, userId } = action.payload;\r\n    const postIndex = state.posts.findIndex(post => post.id === postId);\r\n    const postLikes = state.posts[postIndex].likes;\r\n    const isPostLiked = postLikes.some(id => id === userId);\r\n\r\n    if (isPostLiked) {\r\n      state.posts[postIndex].likes = postLikes.filter(id => id !== userId);\r\n    } else {\r\n      state.posts[postIndex].likes.push(userId);\r\n    }\r\n\r\n    localStorage.setItem('posts', JSON.stringify(state.posts));\r\n  });\r\n\r\n  b.addCase(commentPost, (state, action) => {\r\n    const { postId, comment } = action.payload;\r\n    const postIndex = state.posts.findIndex(post => post.id === postId);\r\n\r\n    state.posts[postIndex].comments.unshift(comment);\r\n    localStorage.setItem('posts', JSON.stringify(state.posts));\r\n  });\r\n});\r\n\r\nexport const createPost =\r\n  (text = '', imageSrc = '') =>\r\n  (dispatch: RootDispatch, getState: GetState) => {\r\n    const { login: username, id } = getState().auth;\r\n    const photo = getUserPhoto(id as number);\r\n\r\n    const post: IPost = {\r\n      text,\r\n      imageSrc,\r\n      id: Date.now(),\r\n      addDate: +new Date(),\r\n      author: { username, photo },\r\n      comments: [],\r\n      likes: [],\r\n    };\r\n\r\n    dispatch(addPost(post));\r\n  };\r\n\r\nexport const createComment =\r\n  (text: string, postId: number) =>\r\n  (dispatch: RootDispatch, getState: GetState) => {\r\n    const { login: username, id } = getState().auth;\r\n    const photo = getUserPhoto(id as number);\r\n    const author = { username, photo };\r\n\r\n    const comment: IComment = {\r\n      id: Date.now(),\r\n      addDate: +new Date(),\r\n      author,\r\n      text,\r\n      userId: Number(id),\r\n    };\r\n\r\n    dispatch(commentPost(comment, postId));\r\n  };\r\n\r\nexport default postsReducer;\r\n","import React from 'react';\r\n\r\nconst LinkIcon: React.FC<{ size: string; color?: string }> = ({\r\n  size,\r\n  color = '#0d1117',\r\n}) => {\r\n  return (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      xmlnsXlink='http://www.w3.org/1999/xlink'\r\n      version='1.1'\r\n      viewBox='0 0 511.997 511.997'\r\n      xmlSpace='preserve'\r\n      width={size}\r\n      height={size}\r\n      fill={color}\r\n    >\r\n      <g transform='translate(1 1)'>\r\n        <path d='M211.26,389.24l-60.331,60.331c-25.012,25.012-65.517,25.012-90.508,0.005c-24.996-24.996-24.996-65.505-0.005-90.496     l120.683-120.683c24.991-24.992,65.5-24.992,90.491,0c8.331,8.331,21.839,8.331,30.17,0c8.331-8.331,8.331-21.839,0-30.17     c-41.654-41.654-109.177-41.654-150.831,0L30.247,328.909c-41.654,41.654-41.654,109.177,0,150.831     c41.649,41.676,109.177,41.676,150.853,0l60.331-60.331c8.331-8.331,8.331-21.839,0-30.17S219.591,380.909,211.26,389.24z' />\r\n        <path d='M479.751,30.24c-41.654-41.654-109.199-41.654-150.853,0l-72.384,72.384c-8.331,8.331-8.331,21.839,0,30.17     c8.331,8.331,21.839,8.331,30.17,0l72.384-72.384c24.991-24.992,65.521-24.992,90.513,0c24.991,24.991,24.991,65.5,0,90.491     L316.845,283.638c-24.992,24.992-65.5,24.992-90.491,0c-8.331-8.331-21.839-8.331-30.17,0s-8.331,21.839,0,30.17     c41.654,41.654,109.177,41.654,150.831,0l132.736-132.736C521.405,139.418,521.405,71.894,479.751,30.24z' />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default LinkIcon;\r\n","import classNames from 'classnames/bind';\r\nimport React, { useRef, useState } from 'react';\r\nimport { useDarkMode, useOnClickOutside } from 'usehooks-ts';\r\nimport { getUserPhoto } from '../../../../common/getUserPhoto';\r\nimport { useDispatch } from '../../../../hooks/useDispatch';\r\nimport { useSelector } from '../../../../hooks/useSelector';\r\nimport { useUserPhoto } from '../../../../hooks/useUserPhoto';\r\nimport { createPost } from '../../../../store/reducers/postsReducer';\r\nimport { CrossIcon } from '../../../../svg/CrossIcon';\r\nimport LinkIcon from '../../../../svg/LinkIcon';\r\nimport styles from './CreatePost.module.css';\r\n\r\ninterface Props {\r\n  setCreatePostMode: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nconst CreatePost: React.FC<Props> = ({ setCreatePostMode }) => {\r\n  const dispatch = useDispatch();\r\n  const cx = classNames.bind(styles);\r\n\r\n  const ref = useRef<HTMLDivElement>(null);\r\n  const [newPostText, setNewPostText] = useState('');\r\n  const [imageSrc, setImageSrc] = useState('');\r\n  const createBtnDisabled = !newPostText.trim() && !imageSrc;\r\n  const { id: userId } = useSelector(s => s.auth);\r\n  const { isDarkMode } = useDarkMode();\r\n  const { photo, photoErrorHandler } = useUserPhoto(\r\n    getUserPhoto(userId as number)\r\n  );\r\n\r\n  const onImageSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    if (e.target.files) {\r\n      const file = e.target.files[0];\r\n      const fr = new FileReader();\r\n\r\n      fr.onload = () => {\r\n        if (typeof fr.result === 'string') {\r\n          setImageSrc(fr.result);\r\n        }\r\n      };\r\n\r\n      fr.readAsDataURL(file);\r\n    }\r\n  };\r\n\r\n  const onAddPost = () => {\r\n    dispatch(createPost(newPostText, imageSrc));\r\n    setCreatePostMode(false);\r\n  };\r\n\r\n  useOnClickOutside(ref, () => setCreatePostMode(false));\r\n\r\n  return (\r\n    <div className={styles.createPostModal}>\r\n      <div\r\n        className={cx({ createPost: true, createPostD: isDarkMode })}\r\n        ref={ref}\r\n      >\r\n        <div className={styles.header}>\r\n          <div\r\n            className={styles.close}\r\n            onClick={() => setCreatePostMode(false)}\r\n          >\r\n            <CrossIcon size=\"20px\" />\r\n          </div>\r\n        </div>\r\n\r\n        <div className={styles.inner}>\r\n          <div className={styles.userAvatar}>\r\n            <img src={photo} alt=\"avatar\" onError={photoErrorHandler} />\r\n          </div>\r\n          <div className={styles.textarea}>\r\n            <textarea\r\n              value={newPostText}\r\n              onChange={e => setNewPostText(e.target.value)}\r\n              placeholder=\"Post text...\"\r\n            ></textarea>\r\n          </div>\r\n        </div>\r\n\r\n        <div className={styles.footer}>\r\n          <div className={styles.addImage}>\r\n            <LinkIcon size=\"20px\" color={isDarkMode ? '#99a2ad' : ''} />\r\n            {imageSrc ? (\r\n              <div className={styles.imagePreview}>\r\n                <img src={imageSrc} alt=\"\" />\r\n              </div>\r\n            ) : (\r\n              <button>Add image</button>\r\n            )}\r\n            <input type=\"file\" accept=\"image/*\" onChange={onImageSelect} />\r\n          </div>\r\n          <div\r\n            className={cx({\r\n              createButton: true,\r\n              createButtonDisabled: createBtnDisabled,\r\n            })}\r\n            title={\r\n              createBtnDisabled\r\n                ? 'Write something or add image to create post'\r\n                : ''\r\n            }\r\n          >\r\n            <button onClick={onAddPost} disabled={createBtnDisabled}>\r\n              Create\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CreatePost;\r\n","import React from 'react';\r\n\r\nconst CommentIcon: React.FC<{ size: string; color?: string }> = ({\r\n  size,\r\n  color = '#0d1117',\r\n}) => {\r\n  return (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      viewBox='-21 -47 682.66669 682'\r\n      width={size}\r\n      height={size}\r\n      fill={color}\r\n    >\r\n      <path d='m552.011719-1.332031h-464.023438c-48.515625 0-87.988281 39.464843-87.988281 87.988281v283.972656c0 48.414063 39.300781 87.816406 87.675781 87.988282v128.863281l185.191407-128.863281h279.144531c48.515625 0 87.988281-39.472657 87.988281-87.988282v-283.972656c0-48.523438-39.472656-87.988281-87.988281-87.988281zm50.488281 371.960937c0 27.835938-22.648438 50.488282-50.488281 50.488282h-290.910157l-135.925781 94.585937v-94.585937h-37.1875c-27.839843 0-50.488281-22.652344-50.488281-50.488282v-283.972656c0-27.84375 22.648438-50.488281 50.488281-50.488281h464.023438c27.839843 0 50.488281 22.644531 50.488281 50.488281zm0 0' />\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default CommentIcon;\r\n","import React from 'react';\r\n\r\nconst LikeIcon: React.FC<{ size: string; liked?: boolean; color?: string }> = ({\r\n  size,\r\n  liked,\r\n  color = '#0d1117',\r\n}) => {\r\n  return (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      xmlnsXlink='http://www.w3.org/1999/xlink'\r\n      version='1.1'\r\n      viewBox='0 0 512 512'\r\n      xmlSpace='preserve'\r\n      width={size}\r\n      height={size}\r\n      fill={liked ? '#2c2f3b' : color}\r\n    >\r\n      <g>\r\n        <path\r\n          d='M249 34L278 28C278 36 282.667 31.3333 285 28H301L331 69V106L320 151L313 192H464L482 199L501 223V242L482 268L501 292V322L472 343L482 363L477 385L452 408L464 433L452 454L426 469H278H208L171 454L159 460L140 488H109H41L18 477V454V253L41 237H153L159 253H180L249 111V34Z'\r\n          fill={liked ? '#FF3347' : 'none'}\r\n        />\r\n        <path d='M512 304C512 291.179 506.901 279.232 498.112 270.421C508.075 259.52 513.152 244.906 511.765 229.696C509.269 202.581 484.842 181.333 456.128 181.333H324.352C330.88 161.514 341.333 125.184 341.333 96C341.333 49.728 302.016 10.667 277.333 10.667C255.189 10.667 239.338 23.147 238.677 23.659C236.138 25.686 234.666 28.758 234.666 32V104.341L173.205 237.44L170.666 238.741V234.666C170.666 228.778 165.887 223.999 159.999 223.999H53.333C23.915 224 0 247.915 0 277.333V448C0 477.419 23.915 501.333 53.333 501.333H117.333C140.394 501.333 160.106 486.613 167.53 466.069C185.28 475.2 209.173 480 224 480H419.819C443.051 480 463.382 464.341 468.16 442.752C470.613 431.616 469.184 420.416 464.32 410.688C480.064 402.773 490.667 386.496 490.667 368C490.667 360.448 488.939 353.216 485.675 346.688C501.419 338.752 512 322.496 512 304ZM467.008 330.325C462.891 330.816 459.413 333.61 458.091 337.557C456.79 341.504 457.878 345.834 460.907 348.693C466.326 353.792 469.334 360.661 469.334 368C469.334 381.461 459.158 392.768 445.697 394.325C441.58 394.816 438.102 397.61 436.78 401.557C435.479 405.504 436.567 409.834 439.596 412.693C446.615 419.306 449.431 428.586 447.319 438.144C444.695 450.048 433.132 458.667 419.82 458.667H224C206.677 458.667 177.621 450.539 167.552 440.448C164.501 437.419 159.893 436.523 155.925 438.144C151.936 439.787 149.333 443.691 149.333 448C149.333 465.643 134.976 480 117.333 480H53.333C35.69 480 21.333 465.643 21.333 448V277.333C21.333 259.69 35.69 245.333 53.333 245.333H149.333V256C149.333 259.691 151.253 263.125 154.41 265.088C157.525 266.965 161.45 267.157 164.778 265.536L186.111 254.869C188.266 253.802 189.994 252.01 191.018 249.813L255.018 111.146C255.658 109.738 255.999 108.202 255.999 106.666V37.781C260.437 35.328 268.139 32 277.333 32C289.024 32 320 61.056 320 96C320 133.547 299.563 187.669 299.371 188.203C298.134 191.467 298.56 195.158 300.544 198.059C302.549 200.939 305.835 202.667 309.333 202.667H456.128C473.92 202.667 489.024 215.403 490.517 231.659C491.648 243.819 485.802 255.382 475.328 261.846C472.064 263.851 470.123 267.478 470.272 271.339C470.421 275.2 472.64 278.656 476.053 280.427C485.077 285.014 490.666 294.059 490.666 304C490.667 317.461 480.491 328.768 467.008 330.325Z' />\r\n        <path d='M160 245.333C154.112 245.333 149.333 250.112 149.333 256V448C149.333 453.888 154.112 458.667 160 458.667C165.888 458.667 170.667 453.888 170.667 448V256C170.667 250.112 165.888 245.333 160 245.333Z' />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default LikeIcon;\r\n","import React from 'react';\r\n\r\nconst SendIcon: React.FC<{ size: string; color?: string }> = ({\r\n  size,\r\n  color = '#0d1117',\r\n}) => {\r\n  return (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      xmlnsXlink='http://www.w3.org/1999/xlink'\r\n      version='1.1'\r\n      viewBox='0 0 512 512'\r\n      xmlSpace='preserve'\r\n      width={size}\r\n      height={size}\r\n      fill={color}\r\n    >\r\n      <g>\r\n        <path d='M481.508,210.335L68.414,38.926c-17.403-7.222-37.063-4.045-51.309,8.287C2.859,59.547-3.099,78.55,1.557,96.808    L42.151,256L1.557,415.192c-4.656,18.258,1.301,37.261,15.547,49.595c14.273,12.358,33.938,15.495,51.31,8.287l413.094-171.409    C500.316,293.861,512,276.363,512,256C512,235.637,500.316,218.139,481.508,210.335z M470.009,273.955L56.916,445.364    c-6.947,2.881-14.488,1.665-20.175-3.259c-5.686-4.923-7.971-12.212-6.113-19.501L69.287,271h149.065    c8.285,0,15.001-6.716,15.001-15.001c0-8.285-6.716-15.001-15.001-15.001H69.288L30.628,89.396    c-1.858-7.288,0.427-14.578,6.113-19.501c5.686-4.923,13.225-6.141,20.174-3.259l413.094,171.409    c11.125,4.616,11.99,14.91,11.99,17.955S481.134,269.339,470.009,273.955z' />\r\n      </g>\r\n    </svg>\r\n  );\r\n};\r\n\r\nexport default SendIcon;\r\n","import classNames from 'classnames/bind';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useUserPhoto } from '../../../../hooks/useUserPhoto';\r\nimport { IComment } from '../../../../types/posts';\r\nimport styles from './Comment.module.css';\r\ninterface Props extends IComment {\r\n  isLast: boolean;\r\n}\r\n\r\nconst Comment: React.FC<Props> = ({\r\n  addDate,\r\n  author,\r\n  isLast,\r\n  text,\r\n  userId,\r\n}) => {\r\n  const cx = classNames.bind(styles);\r\n  const { photo, photoErrorHandler } = useUserPhoto(author.photo);\r\n\r\n  const time = new Date(addDate).toLocaleString('en-US', {\r\n    hour: 'numeric',\r\n    minute: 'numeric',\r\n    hour12: true,\r\n  });\r\n\r\n  return (\r\n    <div\r\n      className={cx({\r\n        comment: true,\r\n        commentBorder: isLast,\r\n      })}\r\n    >\r\n      <div className={styles.inner}>\r\n        <div className={styles.authorAvatar}>\r\n          <Link to={`/profile/${userId}`}>\r\n            <img src={photo} alt=\"\" onError={photoErrorHandler} />\r\n          </Link>\r\n        </div>\r\n        <div className={styles.col}>\r\n          <div className={styles.username}>\r\n            <Link to={`/profile/${userId}`}>\r\n              <span>{author.username}</span>\r\n            </Link>\r\n          </div>\r\n          <div className={styles.text}>\r\n            <p>{text}</p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div className={styles.addDate}>\r\n        <span>{time}</span>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Comment;\r\n","import classNames from 'classnames/bind';\r\nimport React, { useState } from 'react';\r\nimport { useDarkMode } from 'usehooks-ts';\r\nimport { useDispatch } from '../../../../hooks/useDispatch';\r\nimport { useUserPhoto } from '../../../../hooks/useUserPhoto';\r\nimport { useSelector } from '../../../../hooks/useSelector';\r\nimport { deletePost, likePost } from '../../../../store/actions/posts';\r\nimport { createComment } from '../../../../store/reducers/postsReducer';\r\nimport CommentIcon from '../../../../svg/CommentIcon';\r\nimport { CrossIcon } from '../../../../svg/CrossIcon';\r\nimport LikeIcon from '../../../../svg/LikeIcon';\r\nimport SendIcon from '../../../../svg/SendIcon';\r\nimport { IComment, IPost } from '../../../../types/posts';\r\nimport Comment from '../Comment/Comment';\r\nimport styles from './Post.module.css';\r\n\r\ninterface Props {\r\n  post: IPost;\r\n}\r\n\r\nconst Post: React.FC<Props> = ({ post }) => {\r\n  const dispatch = useDispatch();\r\n  const cx = classNames.bind(styles);\r\n\r\n  const { isDarkMode } = useDarkMode();\r\n  const { id: userId } = useSelector(s => s.auth);\r\n  const { id, addDate, author, text, imageSrc, comments, likes } = post;\r\n  const [newCommentText, setNewCommentText] = useState('');\r\n  const { photo, photoErrorHandler } = useUserPhoto(author.photo);\r\n\r\n  const postDateYear = new Date(addDate).toLocaleString('ru', {\r\n    month: '2-digit',\r\n    day: '2-digit',\r\n    year: 'numeric',\r\n  });\r\n  const postDateTime = new Date(addDate).toLocaleString('en-US', {\r\n    hour: 'numeric',\r\n    minute: 'numeric',\r\n    hour12: true,\r\n  });\r\n\r\n  const onSendComment = () => {\r\n    dispatch(createComment(newCommentText, id));\r\n    setNewCommentText('');\r\n  };\r\n\r\n  const onLikePost = () => {\r\n    dispatch(likePost(id, userId as number));\r\n  };\r\n\r\n  const onDeletePost = () => dispatch(deletePost(id));\r\n\r\n  const onCommentInputKeyDown = (e: React.KeyboardEvent) => {\r\n    if (e.key === 'Enter' && newCommentText.length > 0) {\r\n      onSendComment();\r\n    }\r\n  };\r\n\r\n  const checkIsLastComment = (comment: IComment): boolean => {\r\n    return comments.lastIndexOf(comment) !== comments.length - 1;\r\n  };\r\n\r\n  return (\r\n    <li className={cx({ post: true, postD: isDarkMode })}>\r\n      <div className={styles.header}>\r\n        <div className={styles.left}>\r\n          <div className={styles.authorAvatar}>\r\n            <img src={photo} alt=\"avatar\" onError={photoErrorHandler} />\r\n          </div>\r\n          <div className={styles.col}>\r\n            <div className={styles.username}>\r\n              <span>{author.username}</span>\r\n            </div>\r\n            <div className={styles.postDate}>\r\n              <span>{`${postDateYear} at ${postDateTime}`}</span>\r\n            </div>\r\n          </div>\r\n        </div>\r\n        <div className={styles.delete} onClick={onDeletePost}>\r\n          <CrossIcon size=\"20px\" />\r\n        </div>\r\n      </div>\r\n      <div className={styles.postText}>\r\n        <p>{text}</p>\r\n      </div>\r\n      {imageSrc && (\r\n        <div className={styles.image}>\r\n          <img src={imageSrc} alt=\"post\" />\r\n        </div>\r\n      )}\r\n      <div className={styles.rate}>\r\n        <div className={styles.like} onClick={onLikePost}>\r\n          <LikeIcon\r\n            size=\"20px\"\r\n            liked={likes.includes(userId as number)}\r\n            color={isDarkMode ? '#99A2AD' : ''}\r\n          />\r\n          {!!likes.length ? <span>{likes.length}</span> : <span>Like</span>}\r\n        </div>\r\n        <div className={styles.comment}>\r\n          <CommentIcon size=\"20px\" color={isDarkMode ? '#99A2AD' : ''} />\r\n          {comments.length > 0 ? (\r\n            <span>{comments.length}</span>\r\n          ) : (\r\n            <span>Comment</span>\r\n          )}\r\n        </div>\r\n      </div>\r\n      <div className={styles.comments}>\r\n        <div className={styles.writeComment}>\r\n          <div className={styles.commentAuthorAvatar}>\r\n            <img src={photo} alt=\"author avatar\" onError={photoErrorHandler} />\r\n          </div>\r\n          <div className={styles.writeCommentInput}>\r\n            <input\r\n              value={newCommentText}\r\n              type=\"text\"\r\n              placeholder=\"Write a comment...\"\r\n              onKeyDown={onCommentInputKeyDown}\r\n              onChange={e => setNewCommentText(e.target.value)}\r\n            />\r\n            {!!newCommentText.length && (\r\n              <button onClick={onSendComment}>\r\n                <SendIcon size=\"20px\" color={isDarkMode ? '#99A2AD' : ''} />\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n        {!!comments.length && (\r\n          <ul className={styles.commentsList}>\r\n            {comments.map(comment => (\r\n              <Comment\r\n                {...comment}\r\n                isLast={checkIsLastComment(comment)}\r\n                key={comment.id}\r\n              />\r\n            ))}\r\n          </ul>\r\n        )}\r\n      </div>\r\n    </li>\r\n  );\r\n};\r\n\r\nexport default Post;\r\n","import classNames from 'classnames/bind';\r\nimport React, { useState } from 'react';\r\nimport { useDarkMode } from 'usehooks-ts';\r\nimport { getUserPhoto } from '../../../common/getUserPhoto';\r\nimport { useSelector } from '../../../hooks/useSelector';\r\nimport { useUserPhoto } from '../../../hooks/useUserPhoto';\r\nimport { selectIsOwner } from '../../../store/selectors/profileSelectors';\r\nimport NoDataIcon from '../../../svg/NoDataIcon';\r\nimport CreatePost from './CreatePost/CreatePost';\r\nimport Post from './Post/Post';\r\nimport styles from './Posts.module.css';\r\n\r\nexport const Posts: React.FC = () => {\r\n  const cx = classNames.bind(styles);\r\n\r\n  const isOwner = useSelector(selectIsOwner);\r\n  const userId = useSelector(s => s.auth.id);\r\n  const [createPostMode, setCreatePostMode] = useState(false);\r\n  const { isDarkMode } = useDarkMode();\r\n  const { posts } = useSelector(s => s.posts);\r\n  const { photo, photoErrorHandler } = useUserPhoto(\r\n    getUserPhoto(userId as number)\r\n  );\r\n\r\n  return (\r\n    <div className={styles.postsWrapper}>\r\n      {isOwner && (\r\n        <div className={cx({ createPost: true, createPostD: isDarkMode })}>\r\n          <div className={styles.userAvatar}>\r\n            <img src={photo} alt=\"user avatar\" onError={photoErrorHandler} />\r\n          </div>\r\n          <div className={styles.createPostButton}>\r\n            <button onClick={() => setCreatePostMode(true)}>Create post</button>\r\n          </div>\r\n        </div>\r\n      )}\r\n      {posts.length > 0 && isOwner ? (\r\n        <div className={styles.main}>\r\n          <div className={styles.title}>\r\n            <span>Posts</span>\r\n          </div>\r\n          <ul className={styles.posts}>\r\n            {posts.map(post => (\r\n              <Post post={post} key={post.id} />\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      ) : (\r\n        <div className={cx({ noPosts: true, noPostsD: isDarkMode })}>\r\n          <div className={styles.title}>\r\n            <span>Posts</span>\r\n          </div>\r\n          <div className={styles.noPostsInner}>\r\n            <NoDataIcon size=\"100px\" />\r\n            <span>No posts yet</span>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {createPostMode && <CreatePost setCreatePostMode={setCreatePostMode} />}\r\n    </div>\r\n  );\r\n};\r\n","import classNames from 'classnames/bind';\r\nimport React, { useCallback, useRef, useState } from 'react';\r\nimport Cropper from 'react-easy-crop';\r\nimport { Area, Point } from 'react-easy-crop/types';\r\nimport { useDarkMode, useOnClickOutside } from 'usehooks-ts';\r\nimport { useDispatch } from '../../../../hooks/useDispatch';\r\nimport { createPost } from '../../../../store/reducers/postsReducer';\r\nimport { updatePhoto } from '../../../../store/reducers/profileReducer';\r\nimport { CrossIcon } from '../../../../svg/CrossIcon';\r\nimport styles from './UserPhoto.module.css';\r\n\r\ninterface Props {\r\n  imageSrc: string;\r\n  setPhotoEditMode: React.Dispatch<React.SetStateAction<boolean>>;\r\n  setImageSrc: React.Dispatch<React.SetStateAction<string>>;\r\n  setUpdating: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport const CropPhoto: React.FC<Props> = ({\r\n  imageSrc,\r\n  setPhotoEditMode,\r\n  setImageSrc,\r\n  setUpdating,\r\n}) => {\r\n  const dispatch = useDispatch();\r\n  const cx = classNames.bind(styles);\r\n\r\n  const canvasRef = useRef<HTMLCanvasElement>(null);\r\n  const cropContainerRef = useRef<HTMLDivElement>(null);\r\n  const { isDarkMode } = useDarkMode();\r\n\r\n  const [crop, setCrop] = useState<Point>({ x: 0, y: 0 });\r\n  const [zoom, setZoom] = useState(1);\r\n  const [croppedArea, setCroppedArea] = useState({\r\n    x: 0,\r\n    y: 0,\r\n    width: 0,\r\n    height: 0,\r\n  });\r\n\r\n  const onCropComplete = useCallback((_: Area, croppedAreaPixels: Area) => {\r\n    setCroppedArea(croppedAreaPixels);\r\n  }, []);\r\n\r\n  const onSave = () => {\r\n    const canvas = canvasRef.current as HTMLCanvasElement;\r\n    const ctx = canvas.getContext('2d') as CanvasRenderingContext2D;\r\n\r\n    const { width, height, x, y } = croppedArea;\r\n\r\n    canvas.width = width;\r\n    canvas.height = height;\r\n\r\n    const img = new Image();\r\n\r\n    img.src = imageSrc;\r\n\r\n    ctx.clearRect(0, 0, canvas.width, canvas.height);\r\n    ctx.drawImage(img, x, y, width, height, 0, 0, width, height);\r\n\r\n    canvas.toBlob(blob => {\r\n      if (blob) {\r\n        const image = new File([blob], 'image.png', { type: 'image/png' });\r\n        const fr = new FileReader();\r\n\r\n        fr.onload = () => {\r\n          if (typeof fr.result === 'string') {\r\n            setUpdating(true);\r\n            dispatch(updatePhoto(image)).then(() => setUpdating(false));\r\n            dispatch(createPost('Update photo', fr.result));\r\n          }\r\n        };\r\n\r\n        fr.readAsDataURL(blob);\r\n      }\r\n    }, 'image/png');\r\n\r\n    setPhotoEditMode(false);\r\n  };\r\n\r\n  const onClose = () => {\r\n    setImageSrc('');\r\n    setPhotoEditMode(false);\r\n  };\r\n\r\n  useOnClickOutside(cropContainerRef, onClose);\r\n\r\n  return (\r\n    <div className={styles.cropPhotoWrap}>\r\n      <div\r\n        className={cx({ cropPhoto: true, cropPhotoD: isDarkMode })}\r\n        ref={cropContainerRef}\r\n      >\r\n        <div className={styles.header}>\r\n          <div className={styles.title}>\r\n            <span>Your profile photo</span>\r\n          </div>\r\n          <div className={styles.close} onClick={onClose}>\r\n            <CrossIcon size=\"20px\" />\r\n          </div>\r\n        </div>\r\n        <div className={styles.cropContainer}>\r\n          <Cropper\r\n            cropShape=\"round\"\r\n            image={imageSrc}\r\n            crop={crop}\r\n            zoom={zoom}\r\n            aspect={1 / 1}\r\n            onCropChange={setCrop}\r\n            onCropComplete={onCropComplete}\r\n            onZoomChange={setZoom}\r\n            objectFit=\"contain\"\r\n          />\r\n        </div>\r\n\r\n        <div className={styles.cropperControls}>\r\n          <button className={styles.saveButton} onClick={onSave}>\r\n            Save\r\n          </button>\r\n          <button className={styles.closeButton} onClick={onClose}>\r\n            Close\r\n          </button>\r\n        </div>\r\n        <canvas ref={canvasRef} className={styles.canvas} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","export default __webpack_public_path__ + \"static/media/openToWork.aa6edf5f.png\";","import React from 'react';\r\n\r\nexport const CameraIcon: React.FC<{ size: string }> = ({ size }) => {\r\n  return (\r\n    <svg\r\n      xmlns='http://www.w3.org/2000/svg'\r\n      width={size}\r\n      height={size}\r\n      viewBox='0 0 48 48'\r\n      fill='none'\r\n    >\r\n      <path\r\n        d='M28.3283 5H19.386C17.7732 5 16.6192 5.48953 15.6081 6.59214L15.4311 6.7931C15.4001 6.82976 14.4066 8.06677 14.0539 8.50427C13.7037 8.93872 12.7671 9.30691 11.8571 9.30691H11.5C7.09071 9.30691 4 12.7235 4 17.698V32.6061C4 37.1043 7.81992 40.9971 12.7143 40.9971H35C39.9242 40.9971 44.0043 37.0641 44.0043 32.6061V17.698C44.0043 12.7235 40.9136 9.30691 36.5043 9.30691H35.8571C34.9472 9.30691 34.0106 8.93872 33.6604 8.50427L32.2831 6.7931C31.2293 5.54882 30.036 5 28.3283 5ZM28.3283 8C29.0935 8 29.4548 8.13908 29.8847 8.60785L29.9939 8.73202C29.9954 8.73381 30.9122 9.87529 31.3248 10.3871C32.3007 11.5977 34.1048 12.3069 35.8571 12.3069H36.5043C39.1859 12.3069 41.0043 14.317 41.0043 17.698V32.6061C41.0043 35.3821 38.2915 37.9971 35 37.9971H12.7143C9.48961 37.9971 7 35.46 7 32.6061V17.698C7 14.317 8.81838 12.3069 11.5 12.3069H11.8571C13.6095 12.3069 15.4136 11.5977 16.3895 10.3871L17.7204 8.73202C18.2021 8.16323 18.557 8 19.386 8H28.3283ZM24 15.5C19.3056 15.5 15.5 19.3056 15.5 24C15.5 28.6944 19.3056 32.5 24 32.5C28.6944 32.5 32.5 28.6944 32.5 24C32.5 19.3056 28.6944 15.5 24 15.5ZM24 18.5C27.0376 18.5 29.5 20.9624 29.5 24C29.5 27.0376 27.0376 29.5 24 29.5C20.9624 29.5 18.5 27.0376 18.5 24C18.5 20.9624 20.9624 18.5 24 18.5Z'\r\n        fill='white'\r\n      />\r\n    </svg>\r\n  );\r\n};\r\n","import classNames from 'classnames/bind';\r\nimport React, { useRef, useState } from 'react';\r\nimport { useDarkMode, useOnClickOutside } from 'usehooks-ts';\r\nimport { useSelector } from '../../../hooks/useSelector';\r\nimport { useUserPhoto } from '../../../hooks/useUserPhoto';\r\nimport { CrossIcon } from '../../../svg/CrossIcon';\r\nimport Preloader from '../../Preloader/Preloader';\r\nimport styles from './ViewPhoto.module.css';\r\n\r\ninterface Props {\r\n  setPhotoViewMode: React.Dispatch<React.SetStateAction<boolean>>;\r\n}\r\n\r\nexport const ViewPhoto: React.FC<Props> = ({ setPhotoViewMode }) => {\r\n  const cx = classNames.bind(styles);\r\n\r\n  const ref = useRef<HTMLDivElement>(null);\r\n  const [photoLoaded, setPhotoLoaded] = useState(false);\r\n  const { isDarkMode } = useDarkMode();\r\n\r\n  const { fullName: username, photos } = useSelector(s => s.profile);\r\n  const { photo, photoErrorHandler } = useUserPhoto(photos.large ?? '');\r\n\r\n  const close = () => setPhotoViewMode(false);\r\n\r\n  useOnClickOutside(ref, close);\r\n\r\n  return (\r\n    <div className={cx(['viewPhotoWrap'])}>\r\n      <div\r\n        className={cx({ viewPhoto: true, viewPhotoD: isDarkMode })}\r\n        ref={ref}\r\n      >\r\n        <div className={styles.header}>\r\n          <div className={styles.info}>\r\n            <span className={styles.username} title={username}>\r\n              {`${username}'s`}&nbsp;&nbsp;\r\n            </span>\r\n            <span>profile photo</span>\r\n          </div>\r\n          <div className={styles.close} onClick={close}>\r\n            <CrossIcon size=\"20px\" />\r\n          </div>\r\n        </div>\r\n        <div className={styles.photo}>\r\n          <img\r\n            alt=\"profile\"\r\n            src={photo}\r\n            style={{ display: !photoLoaded ? 'none' : 'unset' }}\r\n            onError={photoErrorHandler}\r\n            onLoad={() => setPhotoLoaded(true)}\r\n          />\r\n          {!photoLoaded && (\r\n            <div className={styles.preloader}>\r\n              <Preloader />\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, { useRef, useState } from 'react';\r\nimport styles from './UserPhoto.module.css';\r\nimport photoPlaceholder from '../../../../assets/userPhoto.png';\r\nimport photoPlaceholderD from '../../../../assets/userPhotoDark.png';\r\nimport { CropPhoto } from './CropPhoto';\r\nimport { useSelector } from '../../../../hooks/useSelector';\r\nimport { selectIsOwner } from '../../../../store/selectors/profileSelectors';\r\nimport openToWorkImg from '../../../../assets/openToWork.png';\r\nimport { CameraIcon } from '../../../../svg/CameraIcon';\r\nimport Preloader from '../../../Preloader/Preloader';\r\nimport { ViewPhoto } from '../../ViewPhoto/ViewPhoto';\r\nimport { useDarkMode, useHover, useOnClickOutside } from 'usehooks-ts';\r\nimport classNames from 'classnames/bind';\r\n\r\nexport const UserPhoto: React.FC = () => {\r\n  const cx = classNames.bind(styles);\r\n\r\n  const tooltipRef = useRef<HTMLDivElement>(null);\r\n  const hoverRef = useRef<HTMLDivElement>(null);\r\n  const isHover = useHover(hoverRef);\r\n\r\n  const [imageSrc, setImageSrc] = useState('');\r\n  const [photoEditMode, setPhotoEditMode] = useState(false);\r\n  const [photoLoaded, setPhotoLoaded] = useState(false);\r\n  const [photoViewMode, setPhotoViewMode] = useState(false);\r\n  const [tooltipVisible, setTooltipVisible] = useState(false);\r\n  const [updating, setUpdating] = useState(false);\r\n\r\n  const { isDarkMode } = useDarkMode();\r\n  const {\r\n    photos: { large: photo },\r\n    lookingForAJob,\r\n  } = useSelector(s => s.profile);\r\n  const isOwner = useSelector(selectIsOwner);\r\n\r\n  const handleFileInput = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n    const fileFormat = new RegExp('.png|.jpg|.jpeg');\r\n\r\n    if (fileFormat.test(e.target.value) && e.target.files) {\r\n      const fr = new FileReader();\r\n\r\n      fr.onload = () => {\r\n        if (typeof fr.result === 'string') setImageSrc(fr.result);\r\n      };\r\n\r\n      fr.readAsDataURL(e.target.files[0]);\r\n\r\n      setPhotoEditMode(true);\r\n    }\r\n  };\r\n\r\n  const handleClickOnAvatar = () => {\r\n    if (isOwner) {\r\n      setTooltipVisible(v => !v);\r\n    } else if (!!photo) {\r\n      setPhotoViewMode(true);\r\n    }\r\n  };\r\n\r\n  const handleViewPhotoSelected = () => {\r\n    setPhotoViewMode(true);\r\n    setTooltipVisible(false);\r\n  };\r\n\r\n  useOnClickOutside(tooltipRef, () => {\r\n    setTooltipVisible(false);\r\n  });\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={styles.avatar}\r\n        style={{ cursor: photo ? 'pointer' : 'default' }}\r\n        ref={hoverRef}\r\n      >\r\n        {isHover && isOwner && (\r\n          <div className={styles.hoverPhoto} onClick={handleClickOnAvatar}>\r\n            <CameraIcon size=\"50px\" />\r\n          </div>\r\n        )}\r\n\r\n        {(!photoLoaded || updating) && (\r\n          <div className={styles.preloader}>\r\n            <Preloader />\r\n          </div>\r\n        )}\r\n        <div className={styles.inner} onClick={handleClickOnAvatar}>\r\n          <img\r\n            className={styles.photo}\r\n            src={photo || (isDarkMode ? photoPlaceholderD : photoPlaceholder)}\r\n            alt=\"user avatar\"\r\n            onLoad={() => setPhotoLoaded(true)}\r\n          />\r\n\r\n          {lookingForAJob && (\r\n            <div className={styles.lookingForAJob}>\r\n              <img src={openToWorkImg} alt=\"looking for a job\" />\r\n            </div>\r\n          )}\r\n        </div>\r\n        {tooltipVisible && (\r\n          <div\r\n            className={cx({ tooltip: true, tooltipD: isDarkMode })}\r\n            ref={tooltipRef}\r\n          >\r\n            <span className={styles.uploadPhoto}>\r\n              <label htmlFor=\"uploadPhoto\">Upload photo</label>\r\n              <input\r\n                type=\"file\"\r\n                accept=\".jpg, .jpeg, .png\"\r\n                id=\"uploadPhoto\"\r\n                hidden\r\n                onChange={handleFileInput}\r\n              />\r\n            </span>\r\n            {photo && <span onClick={handleViewPhotoSelected}>View photo</span>}\r\n          </div>\r\n        )}\r\n      </div>\r\n\r\n      {photoViewMode && <ViewPhoto setPhotoViewMode={setPhotoViewMode} />}\r\n      {photoEditMode && (\r\n        <CropPhoto\r\n          imageSrc={imageSrc}\r\n          setImageSrc={setImageSrc}\r\n          setPhotoEditMode={setPhotoEditMode}\r\n          setUpdating={setUpdating}\r\n        />\r\n      )}\r\n    </>\r\n  );\r\n};\r\n","import classNames from 'classnames/bind';\r\nimport React from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport { useDarkMode } from 'usehooks-ts';\r\nimport { useSelector } from '../../../hooks/useSelector';\r\nimport { selectIsOwner } from '../../../store/selectors/profileSelectors';\r\nimport FollowButton from '../../FollowButton/FollowButton';\r\nimport styles from './ProfileHeader.module.css';\r\nimport { UserPhoto } from './UserPhoto/UserPhoto';\r\n\r\nconst ProfileHeader: React.FC = () => {\r\n  const cx = classNames.bind(styles);\r\n\r\n  const profile = useSelector(s => s.profile);\r\n  const isOwner = useSelector(selectIsOwner);\r\n  const { followed, inFollowProcess, userId, fullName: username } = profile;\r\n  const { isDarkMode } = useDarkMode();\r\n\r\n  return (\r\n    <div className={cx({ header: true, headerD: isDarkMode })}>\r\n      <div className={styles.user}>\r\n        <UserPhoto />\r\n        <div className={styles.username}>\r\n          <span>{username}</span>\r\n        </div>\r\n      </div>\r\n      <div className={styles.buttons}>\r\n        {isOwner ? (\r\n          <div className={cx(['editProfile', 'button'])}>\r\n            <Link to={`/profile/edit`}>\r\n              <button>Edit</button>\r\n            </Link>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <div className={styles.button}>\r\n              <FollowButton\r\n                userId={userId as number}\r\n                followed={followed}\r\n                inFollowProcess={inFollowProcess}\r\n                padding=\"10px 30px\"\r\n                fontSize=\"16px\"\r\n              />\r\n            </div>\r\n            <div className={cx(['button', 'message'])}>\r\n              <Link to={`/dialogs/${userId}/messages`}>\r\n                <button>Message</button>\r\n              </Link>\r\n            </div>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ProfileHeader;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router';\r\nimport { useDispatch } from '../../hooks/useDispatch';\r\nimport { useSelector } from '../../hooks/useSelector';\r\nimport { getUserProfile } from '../../store/reducers/profileReducer';\r\nimport Preloader from '../Preloader/Preloader';\r\nimport { About } from './About/About';\r\nimport { Posts } from './Posts/Posts';\r\nimport styles from './Profile.module.css';\r\nimport ProfileHeader from './ProfileHeader/ProfileHeader';\r\n\r\nexport const Profile: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const { userId } = useParams();\r\n  const { userId: profileId } = useSelector(s => s.profile);\r\n  const [fetching, setFetching] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (!userId || fetching) return undefined;\r\n\r\n    if (+userId !== profileId) {\r\n      setFetching(true);\r\n      dispatch(getUserProfile(+userId)).then(() => setFetching(false));\r\n    }\r\n  }, [dispatch, userId, profileId, fetching]);\r\n\r\n  if (fetching) return <Preloader />;\r\n\r\n  return (\r\n    <div className={styles.profile}>\r\n      <ProfileHeader />\r\n      <div className={styles.main}>\r\n        <About />\r\n        <Posts />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n","import React, {\r\n  lazy,\r\n  Suspense,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useState,\r\n} from 'react';\r\nimport { Navigate, Outlet, Route, Routes } from 'react-router-dom';\r\nimport { useDarkMode } from 'usehooks-ts';\r\nimport { useDispatch } from '../hooks/useDispatch';\r\nimport { useSelector } from '../hooks/useSelector';\r\nimport { getAuthState } from '../store/selectors/authSelectors';\r\nimport { getUserAuthData } from '../store/reducers/authReducer';\r\nimport './App.css';\r\nimport Chat from './Chat/Chat';\r\nimport { Menu } from './Menu/Menu';\r\nimport Preloader from './Preloader/Preloader';\r\nimport { Profile } from './Profile/Profile';\r\n\r\nconst NotFound = lazy(() => import('./NotFound/NotFound'));\r\nconst Login = lazy(() => import('./Login/Login'));\r\nconst Users = lazy(() => import('./Users/Users'));\r\nconst Dialogs = lazy(() => import('./Dialogs/Dialogs'));\r\nconst EditProfile = lazy(() => import('./Profile/EditProfile/EditProfile'));\r\n\r\nconst App: React.FC = () => {\r\n  const dispatch = useDispatch();\r\n  const { isAuth, id } = useSelector(getAuthState);\r\n  const { isDarkMode } = useDarkMode(false);\r\n  const [appInitialized, setAppInitialized] = useState(false);\r\n\r\n  useEffect(() => {\r\n    dispatch(getUserAuthData()).then(() => setAppInitialized(true));\r\n  }, [dispatch]);\r\n\r\n  useLayoutEffect(() => {\r\n    if (isDarkMode) {\r\n      document.body.className = 'bodyD';\r\n    } else {\r\n      document.body.className = 'body';\r\n    }\r\n  }, [isDarkMode]);\r\n\r\n  return (\r\n    <div className={`App ${isDarkMode ? 'AppD' : ''}`}>\r\n      {appInitialized ? (\r\n        isAuth ? (\r\n          <div className=\"container\">\r\n            <Menu />\r\n            <main className=\"main\">\r\n              <Suspense fallback={<Preloader />}>\r\n                <Routes>\r\n                  <Route path=\"/\" element={<Navigate to={`/profile/${id}`} />}>\r\n                    <Route path=\"login\" element={<Outlet />} />\r\n                    <Route path=\"profile\" element={<Outlet />} />\r\n                  </Route>\r\n                  <Route path=\"/profile/:userId\" element={<Profile />} />\r\n                  <Route path=\"/profile/edit\" element={<EditProfile />} />\r\n                  <Route path=\"/users\" element={<Users />} />\r\n                  <Route path=\"/dialogs\" element={<Dialogs />} />\r\n                  <Route path=\"*\" element={<NotFound />} />\r\n                </Routes>\r\n              </Suspense>\r\n            </main>\r\n            <Chat />\r\n          </div>\r\n        ) : (\r\n          <div className=\"login\">\r\n            <Suspense fallback={<Preloader />}>\r\n              <Routes>\r\n                <Route path=\"*\" element={<Navigate to=\"/login\" />} />\r\n                <Route path=\"/login\" element={<Login />} />\r\n              </Routes>\r\n            </Suspense>\r\n          </div>\r\n        )\r\n      ) : (\r\n        <div className=\"preloader\">\r\n          <Preloader />\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default App;\r\n","import { combineReducers } from 'redux';\r\nimport authReducer from './authReducer';\r\nimport postsReducer from './postsReducer';\r\nimport profileReducer from './profileReducer';\r\nimport usersSlice from './usersSlice';\r\n\r\nconst rootReducer = combineReducers({\r\n  auth: authReducer,\r\n  profile: profileReducer,\r\n  posts: postsReducer,\r\n  users: usersSlice,\r\n});\r\n\r\nexport default rootReducer;\r\n","import { configureStore } from '@reduxjs/toolkit';\r\nimport rootReducer from './reducers/rootReducer';\r\n\r\nconst store = configureStore({\r\n  reducer: rootReducer,\r\n  devTools: process.env.NODE_ENV !== 'production',\r\n});\r\n\r\nexport type RootState = ReturnType<typeof store.getState>;\r\nexport type GetState = typeof store.getState;\r\nexport type RootDispatch = typeof store.dispatch;\r\nexport type Actions<T> = T extends { [key: string]: infer U } ? U : never;\r\n\r\nexport default store;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './components/App';\r\nimport { Provider } from 'react-redux';\r\nimport { BrowserRouter } from 'react-router-dom';\r\nimport store from './store';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <BrowserRouter basename='/social-network'>\r\n      <Provider store={store}>\r\n        <App />\r\n      </Provider>\r\n    </BrowserRouter>\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}