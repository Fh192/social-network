(this["webpackJsonpsocial-network"]=this["webpackJsonpsocial-network"]||[]).push([[5],{260:function(e,t,n){e.exports={toggle:"Toggle_toggle__Cn-wh",toggleD:"Toggle_toggleD__1Jmtu"}},261:function(e,t,n){e.exports={filterUsers:"FilterUsers_filterUsers__2Y9vA",arrowD:"FilterUsers_arrowD__ti3pG",title:"FilterUsers_title__ibg5D",popup:"FilterUsers_popup__vK8hg",popupD:"FilterUsers_popupD__1fd-H",showPopup:"FilterUsers_showPopup__2lqB3",magnifier:"FilterUsers_magnifier__3iqA5",clearInput:"FilterUsers_clearInput__v6swI",term:"FilterUsers_term__2EUx0",toggles:"FilterUsers_toggles__-zNm1"}},262:function(e,t,n){e.exports={user:"User_user__38FXz",userD:"User_userD__3jNih",link:"User_link__1YDXP",followBtn:"User_followBtn__2PlbX",photo:"User_photo__4Rk8a",photoPreloader:"User_photoPreloader__35SVO",col:"User_col__1cFGU",username:"User_username__2XOY2"}},263:function(e,t,n){e.exports={users:"Users_users__3jhox",header:"Users_header__3yG7n",headerD:"Users_headerD__1n0GV",usersList:"Users_usersList__3sOPG",preloader:"Users_preloader__2hxbA",notFound:"Users_notFound__3r61_",notFoundText:"Users_notFoundText__2b49X",term:"Users_term__21juF"}},264:function(e,t,n){e.exports={scrollBtn:"ScrollBtn_scrollBtn__3d0oL",scrollBtnD:"ScrollBtn_scrollBtnD__2MZjE",visible:"ScrollBtn_visible__17p76"}},269:function(e,t,n){"use strict";n.r(t);var c=n(11),r=n(5),s=n(1),a=n(17),o=n(8),i=n(37),l=n(22),u=n(10),d=n.n(u),j=n(31),b=n(4),O=n(0),h=function(e){var t=e.size,n=e.type,r=e.color,s=void 0===r?"#0d1117":r,a={transition:"all 0.2s ease",transform:"rotateX(0deg)"};return"up"===n&&(a=Object(c.a)(Object(c.a)({},a),{},{transform:"rotateX(180deg)"})),Object(O.jsx)("svg",{style:a,xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",width:t,height:t,viewBox:"0 0 451.847 451.847",xmlSpace:"preserve",children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{fill:s,d:"M225.923,354.706c-8.098,0-16.195-3.092-22.369-9.263L9.27,151.157c-12.359-12.359-12.359-32.397,0-44.751   c12.354-12.354,32.388-12.354,44.748,0l171.905,171.915l171.906-171.909c12.359-12.354,32.391-12.354,44.744,0   c12.365,12.354,12.365,32.392,0,44.751L248.292,345.449C242.115,351.621,234.018,354.706,225.923,354.706z"})})})},p=n(27),f=function(e){var t=e.size;return Object(O.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",width:t,height:t,viewBox:"0 0 30.239 30.239",enableBackground:"new 0 0 30.239 30.239",xmlSpace:"preserve",children:Object(O.jsx)("g",{children:Object(O.jsx)("path",{d:"M20.194,3.46c-4.613-4.613-12.121-4.613-16.734,0c-4.612,4.614-4.612,12.121,0,16.735   c4.108,4.107,10.506,4.547,15.116,1.34c0.097,0.459,0.319,0.897,0.676,1.254l6.718,6.718c0.979,0.977,2.561,0.977,3.535,0   c0.978-0.978,0.978-2.56,0-3.535l-6.718-6.72c-0.355-0.354-0.794-0.577-1.253-0.674C24.743,13.967,24.303,7.57,20.194,3.46z    M18.073,18.074c-3.444,3.444-9.049,3.444-12.492,0c-3.442-3.444-3.442-9.048,0-12.492c3.443-3.443,9.048-3.443,12.492,0   C21.517,9.026,21.517,14.63,18.073,18.074z"})})})},m=n(260),_=n.n(m),x=function(e){var t=e.checked,n=e.disabled,c=e.onChange,r=d.a.bind(_.a),s=Object(b.a)().isDarkMode;return Object(O.jsx)("input",{className:r({toggle:!0,toggleD:s}),type:"checkbox",checked:t,disabled:n,onChange:c})},g=n(261),v=n.n(g),w=function(e){var t=e.fetching,n=e.queryParams,a=e.setQueryParams,l=Object(j.b)(),u=d.a.bind(v.a),m=Object(s.useRef)(null),_=Object(b.a)().isDarkMode,g=Object(o.a)((function(e){return e.users})).totalCount,w=Object(s.useState)("down"),U=Object(r.a)(w,2),k=U[0],N=U[1],D=Object(s.useState)(!0===n.friend),F=Object(r.a)(D,2),E=F[0],L=F[1],S=Object(s.useState)(!1===n.friend),y=Object(r.a)(S,2),C=y[0],P=y[1],B=Object(s.useState)(n.term||""),T=Object(r.a)(B,2),z=T[0],M=T[1],X=function(e){e&&"Enter"!==e.key||a((function(e){return z&&z!==e.term?(l(Object(i.c)()),Object(c.a)(Object(c.a)({},e),{},{term:z,page:1})):e}))};return Object(s.useEffect)((function(){var e=function(e){e.deltaY>0&&N("down")};return document.addEventListener("wheel",e),function(){return document.removeEventListener("wheel",e)}}),[]),Object(s.useEffect)((function(){var e=!!E||!C&&void 0;a((function(t){return e!==t.friend?(l(Object(i.c)()),Object(c.a)(Object(c.a)({},t),{},{friend:e,term:z||void 0,page:1})):t}))}),[E,C,z,l,a]),Object(b.c)(m,(function(){N("down")})),Object(O.jsxs)("div",{className:v.a.filterUsers,ref:m,children:[Object(O.jsxs)("div",{className:v.a.title,onClick:function(){N((function(e){return"down"===e?"up":"down"}))},children:[Object(O.jsx)("span",{children:"Parameters"}),Object(O.jsx)("div",{className:u({arrow:!0,arrowD:_}),children:Object(O.jsx)(h,{size:"10px",type:k,color:"#8ea6f4"})})]}),Object(O.jsxs)("div",{className:u({popup:!0,popupD:_,showPopup:"up"===k}),children:[Object(O.jsxs)("div",{className:v.a.term,children:[Object(O.jsx)("div",{className:v.a.magnifier,onClick:function(){return X()},children:Object(O.jsx)(f,{size:"15px"})}),Object(O.jsx)("input",{type:"text",id:"term",placeholder:"Search",autoComplete:"off",value:z,disabled:t,onChange:function(e){return M(e.currentTarget.value)},onKeyDown:X}),Object(O.jsx)("div",{className:v.a.clearInput,onClick:function(){M(""),g||(l(Object(i.c)()),a((function(e){return Object(c.a)(Object(c.a)({},e),{},{term:void 0})})))},children:Object(O.jsx)(p.a,{size:"15px"})})]}),Object(O.jsxs)("div",{className:v.a.toggles,children:[Object(O.jsxs)("label",{children:[Object(O.jsx)(x,{onChange:function(e){C&&P(!1),L(e.currentTarget.checked)},checked:E,disabled:t}),Object(O.jsx)("span",{children:"Only friends"})]}),Object(O.jsxs)("label",{children:[Object(O.jsx)(x,{onChange:function(e){E&&L(!1),P(e.currentTarget.checked)},checked:C,disabled:t}),Object(O.jsx)("span",{children:"Hide friends"})]})]})]})]})},U=n(262),k=n.n(U),N=n(16),D=n(18),F=n(59),E=n(14),L=function(e){var t=e.photos.large,n=e.followed,c=e.id,a=e.name,i=d.a.bind(k.a),u=Object(s.useState)(!1),j=Object(r.a)(u,2),h=j[0],p=j[1],f=Object(b.a)().isDarkMode,m=Object(o.a)((function(e){return e.users.inFollowProgress.some((function(e){return e===c}))}));return Object(O.jsxs)("li",{className:i({user:!0,userD:f}),children:[Object(O.jsx)(E.b,{className:k.a.link,to:"/profile/".concat(c)}),Object(O.jsxs)("div",{className:k.a.photo,children:[Object(O.jsx)(E.b,{to:"/profile/".concat(c),children:Object(O.jsx)("img",{src:t||(f?D.a:N.a),onLoad:function(){return p(!0)},loading:"lazy",alt:"user"})}),!h&&Object(O.jsx)("div",{className:k.a.photoPreloader,children:Object(O.jsx)(l.a,{})})]}),Object(O.jsxs)("div",{className:k.a.col,children:[Object(O.jsx)("div",{className:k.a.username,children:Object(O.jsx)("span",{children:a})}),Object(O.jsx)("div",{className:k.a.followBtn,children:Object(O.jsx)(F.a,{inFollowProcess:m,followed:n,userId:c})})]})]})},S=n(3),y=n(263),C=n.n(y),P=n(264),B=n.n(P),T=function(){var e=d.a.bind(B.a),t=Object(b.a)().isDarkMode,n=Object(s.useState)("up"),c=Object(r.a)(n,2),a=c[0],o=c[1],i=Object(s.useState)(0),l=Object(r.a)(i,2),u=l[0],j=l[1],p=Object(s.useState)(!1),f=Object(r.a)(p,2),m=f[0],_=f[1];return Object(s.useEffect)((function(){var e=document.scrollingElement,t=function(t){e.scrollTop<=500?(_(!1),j(0)):t.deltaY<0?(o("up"),_(!0)):_(!1)};return document.addEventListener("wheel",t),function(){return document.removeEventListener("wheel",t)}}),[]),Object(s.useEffect)((function(){var e=document.scrollingElement,t=0,n=0,c=function(e){t=e.changedTouches[0].screenY},r=function(c){n=c.changedTouches[0].screenY,e.scrollTop<=500&&n!==t?(_(!1),j(0)):(n<t&&_(!1),n>t&&(o("up"),_(!0)))};return document.addEventListener("touchstart",c),document.addEventListener("touchend",r),function(){document.removeEventListener("touchstart",c),document.removeEventListener("touchend",r)}}),[]),Object(O.jsx)("div",{className:e({scrollBtn:!0,visible:m,scrollBtnD:t}),onClick:function(){var e=document.scrollingElement;if(e){var t="up"===a?0:u;e.scroll({behavior:"smooth",top:t}),j(e.scrollTop),o((function(e){return"down"===e?"up":"down"}))}},children:Object(O.jsx)("button",{children:Object(O.jsx)(h,{size:"20px",type:a,color:t?"#8ea6f4":"#1c3177"})})})};t.default=function(){var e=d.a.bind(C.a),t=Object(a.a)(),n=Object(S.h)(),u=new URLSearchParams(Object(S.g)().search),j=Object(o.a)((function(e){return e.users})),h=j.totalCount,p=j.users,f=Object(b.a)().isDarkMode,m=Object(s.useState)(!1),_=Object(r.a)(m,2),x=_[0],g=_[1],v=Object(s.useState)({count:40,page:Number(u.get("page"))||1,term:u.get("term")||void 0,friend:!!u.get("friend")||void 0}),U=Object(r.a)(v,2),k=U[0],N=U[1],D=Object(s.useCallback)((function(){var e=k.page,t=k.friend,c=k.term,s=Object.entries({friend:t,term:c}).reduce((function(e,t){var n=Object(r.a)(t,2),c=n[0],s=n[1];return void 0!==s?"".concat(e,"&").concat(c,"=").concat(s):e}),"?page=".concat(e));n({search:s})}),[k,n]);return Object(s.useEffect)((function(){var e=document.scrollingElement,t=function(){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;if(!x&&h&&t+r>=n-500){var s=Math.ceil(h/k.count);k.page<s&&(g(!0),N((function(e){return Object(c.a)(Object(c.a)({},e),{},{page:e.page+1})})))}};return document.addEventListener("scroll",t),function(){return document.removeEventListener("scroll",t)}}),[h,x,k.count,k.page]),Object(s.useEffect)((function(){g(!0),t(Object(i.b)(k)).then((function(){g(!1),D()}))}),[t,k,D]),Object(s.useEffect)((function(){return function(){t(Object(i.c)())}}),[t]),Object(O.jsxs)("div",{className:C.a.users,children:[Object(O.jsxs)("div",{className:e({header:!0,headerD:f}),children:[Object(O.jsx)("div",{className:C.a.usersFound,children:Object(O.jsxs)("span",{children:["Users found: ",null===h||void 0===h?void 0:h.toLocaleString()]})}),Object(O.jsx)(w,{queryParams:k,setQueryParams:N,fetching:x})]}),h?Object(O.jsxs)("ul",{className:C.a.usersList,children:[p.map((function(e){return Object(s.createElement)(L,Object(c.a)(Object(c.a)({},e),{},{key:e.id}))})),x&&Object(O.jsx)("div",{className:C.a.preloader,children:Object(O.jsx)(l.a,{})})]}):h&&p.length||x?Object(O.jsx)(l.a,{}):Object(O.jsx)("div",{className:e({notFound:!0,notFoundD:f}),children:Object(O.jsx)("div",{className:C.a.notFoundText,children:k.friend?Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("span",{children:"Friend"}),Object(O.jsxs)("span",{className:C.a.term,children:['"',k.term,'"']}),Object(O.jsxs)("span",{children:["on page ",k.page]}),Object(O.jsx)("span",{children:"not found."})]}):Object(O.jsxs)(O.Fragment,{children:[Object(O.jsx)("span",{children:"No results for"}),Object(O.jsxs)("span",{className:C.a.term,children:['"',k.term,'"']}),Object(O.jsxs)("span",{children:["on page ",k.page,"."]})]})})}),Object(O.jsx)(T,{})]})}}}]);
//# sourceMappingURL=5.bf75bb09.chunk.js.map